2019-12-11 02:46:20,202 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 02:46:20,223 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 02:46:20,224 p=1 u=root |  Wednesday 11 December 2019  02:46:20 +0000 (0:00:00.314)       0:00:00.314 **** 
2019-12-11 02:46:20,293 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 02:46:20,311 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 02:46:20,335 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 02:46:20,336 p=1 u=root |  Wednesday 11 December 2019  02:46:20 +0000 (0:00:00.111)       0:00:00.426 **** 
2019-12-11 02:46:22,994 p=1 u=root |  ok: [server]
2019-12-11 02:46:23,046 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] ******************************************************************************************************************************************************
2019-12-11 02:46:23,047 p=1 u=root |  Wednesday 11 December 2019  02:46:23 +0000 (0:00:02.711)       0:00:03.137 **** 
2019-12-11 02:46:35,932 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2019-12-11 02:46:35,982 p=1 u=root |  TASK [npg_master : Load npg docker images] ***************************************************************************************************************************************************************
2019-12-11 02:46:35,983 p=1 u=root |  Wednesday 11 December 2019  02:46:35 +0000 (0:00:12.935)       0:00:16.073 **** 
2019-12-11 02:48:58,953 p=1 u=root |  changed: [server]
2019-12-11 02:48:59,056 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***********************************************************************************************************************************************
2019-12-11 02:48:59,057 p=1 u=root |  Wednesday 11 December 2019  02:48:59 +0000 (0:02:23.073)       0:02:39.147 **** 
2019-12-11 02:48:59,785 p=1 u=root |  changed: [server] => (item=files/npg.service)
2019-12-11 02:48:59,841 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ****************************************************************************************************************************************
2019-12-11 02:48:59,842 p=1 u=root |  Wednesday 11 December 2019  02:48:59 +0000 (0:00:00.784)       0:02:39.932 **** 
2019-12-11 02:49:00,867 p=1 u=root |  changed: [server]
2019-12-11 02:49:00,916 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ********************************************************************************************************************************************************
2019-12-11 02:49:00,917 p=1 u=root |  Wednesday 11 December 2019  02:49:00 +0000 (0:00:01.075)       0:02:41.007 **** 
2019-12-11 02:49:01,538 p=1 u=root |  changed: [server] => (item=files/dashboard.js)
2019-12-11 02:49:01,960 p=1 u=root |  changed: [server] => (item=files/uninstall_monitor.sh)
2019-12-11 02:49:02,010 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 02:49:02,010 p=1 u=root |  Wednesday 11 December 2019  02:49:02 +0000 (0:00:01.093)       0:02:42.101 **** 
2019-12-11 02:49:02,806 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 02:49:03,201 p=1 u=root |  changed: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 02:49:03,594 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 02:49:04,010 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 02:49:04,543 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 02:49:04,979 p=1 u=root |  changed: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 02:49:05,035 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ************************************************************************************************************************************************************
2019-12-11 02:49:05,036 p=1 u=root |  Wednesday 11 December 2019  02:49:05 +0000 (0:00:03.025)       0:02:45.126 **** 
2019-12-11 02:49:05,641 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2019-12-11 02:49:05,759 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ************************************************************************************************************************************************
2019-12-11 02:49:05,760 p=1 u=root |  Wednesday 11 December 2019  02:49:05 +0000 (0:00:00.724)       0:02:45.850 **** 
2019-12-11 02:49:06,102 p=1 u=root |  changed: [server]
2019-12-11 02:49:06,156 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***********************************************************************************************************************************************
2019-12-11 02:49:06,157 p=1 u=root |  Wednesday 11 December 2019  02:49:06 +0000 (0:00:00.396)       0:02:46.247 **** 
2019-12-11 02:49:06,852 p=1 u=root |  changed: [server]
2019-12-11 02:49:06,902 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 02:49:06,902 p=1 u=root |  Wednesday 11 December 2019  02:49:06 +0000 (0:00:00.744)       0:02:46.992 **** 
2019-12-11 02:49:08,056 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 02:49:08,471 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 02:49:09,032 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 02:49:09,084 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] ***************************************************************************************************************************************************
2019-12-11 02:49:09,084 p=1 u=root |  Wednesday 11 December 2019  02:49:09 +0000 (0:00:02.182)       0:02:49.175 **** 
2019-12-11 02:49:09,704 p=1 u=root |  ok: [server]
2019-12-11 02:49:09,772 p=1 u=root |  TASK [npg_master : create loki storage data dir] *********************************************************************************************************************************************************
2019-12-11 02:49:09,773 p=1 u=root |  Wednesday 11 December 2019  02:49:09 +0000 (0:00:00.688)       0:02:49.863 **** 
2019-12-11 02:49:10,138 p=1 u=root |  ok: [server]
2019-12-11 02:49:10,188 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] ******************************************************************************************************************************************************
2019-12-11 02:49:10,189 p=1 u=root |  Wednesday 11 December 2019  02:49:10 +0000 (0:00:00.415)       0:02:50.279 **** 
2019-12-11 02:49:10,565 p=1 u=root |  changed: [server]
2019-12-11 02:49:10,621 p=1 u=root |  TASK [npg_master : Start and enable npg service] *********************************************************************************************************************************************************
2019-12-11 02:49:10,621 p=1 u=root |  Wednesday 11 December 2019  02:49:10 +0000 (0:00:00.432)       0:02:50.712 **** 
2019-12-11 02:49:11,920 p=1 u=root |  changed: [server]
2019-12-11 02:49:11,970 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 02:49:11,970 p=1 u=root |  Wednesday 11 December 2019  02:49:11 +0000 (0:00:01.348)       0:02:52.061 **** 
2019-12-11 02:49:12,484 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 02:49:12,553 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *********************************************************************************************************************************************************
2019-12-11 02:49:12,554 p=1 u=root |  Wednesday 11 December 2019  02:49:12 +0000 (0:00:00.583)       0:02:52.644 **** 
2019-12-11 02:49:12,966 p=1 u=root |  changed: [server]
2019-12-11 02:49:13,023 p=1 u=root |  TASK [npg_master : copy external npg stack items] ********************************************************************************************************************************************************
2019-12-11 02:49:13,024 p=1 u=root |  Wednesday 11 December 2019  02:49:13 +0000 (0:00:00.469)       0:02:53.114 **** 
2019-12-11 02:49:13,654 p=1 u=root |  changed: [server] => (item=files/nodeexporter.service)
2019-12-11 02:49:14,028 p=1 u=root |  changed: [server] => (item=files/docker-compose.yml.nodeexporter)
2019-12-11 02:49:15,898 p=1 u=root |  changed: [server] => (item=files/npg_stack_images.tar.xz)
2019-12-11 02:49:16,632 p=1 u=root |  changed: [server] => (item=files/docker-compose)
2019-12-11 02:49:18,506 p=1 u=root |  changed: [server] => (item=files/docker-19.03.5.tgz)
2019-12-11 02:49:19,216 p=1 u=root |  changed: [server] => (item=files/docker.service)
2019-12-11 02:49:19,649 p=1 u=root |  changed: [server] => (item=files/netdata.service)
2019-12-11 02:49:19,708 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] ***************************************************************************************************************************************
2019-12-11 02:49:19,709 p=1 u=root |  Wednesday 11 December 2019  02:49:19 +0000 (0:00:06.685)       0:02:59.799 **** 
2019-12-11 02:49:20,726 p=1 u=root |  changed: [server]
2019-12-11 02:49:20,786 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] **************************************************************************************************************************************
2019-12-11 02:49:20,786 p=1 u=root |  Wednesday 11 December 2019  02:49:20 +0000 (0:00:01.077)       0:03:00.877 **** 
2019-12-11 02:49:21,508 p=1 u=root |  changed: [server]
2019-12-11 02:49:21,570 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **********************************************************************************************************************************************
2019-12-11 02:49:21,571 p=1 u=root |  Wednesday 11 December 2019  02:49:21 +0000 (0:00:00.784)       0:03:01.661 **** 
2019-12-11 02:49:22,284 p=1 u=root |  changed: [server]
2019-12-11 02:49:22,335 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *************************************************************************************************************************************************************
2019-12-11 02:49:22,335 p=1 u=root |  Wednesday 11 December 2019  02:49:22 +0000 (0:00:00.764)       0:03:02.426 **** 
2019-12-11 02:49:31,765 p=1 u=root |  changed: [server]
2019-12-11 02:49:31,816 p=1 u=root |  TASK [npg_master : Generate npg client configurations] ***************************************************************************************************************************************************
2019-12-11 02:49:31,816 p=1 u=root |  Wednesday 11 December 2019  02:49:31 +0000 (0:00:09.480)       0:03:11.907 **** 
2019-12-11 02:49:32,164 p=1 u=root |  changed: [server]
2019-12-11 02:49:32,167 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 02:49:32,168 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2019-12-11 02:49:32,168 p=1 u=root |  server                     : ok=23   changed=20   unreachable=0    failed=0   
2019-12-11 02:49:32,169 p=1 u=root |  Wednesday 11 December 2019  02:49:32 +0000 (0:00:00.352)       0:03:12.259 **** 
2019-12-11 02:49:32,169 p=1 u=root |  =============================================================================== 
2019-12-11 02:49:32,170 p=1 u=root |  npg_master : Load npg docker images ------------------------------------------------------------------------------------------------------------------------------------------------------------- 143.07s
2019-12-11 02:49:32,170 p=1 u=root |  npg_master : upload npg images to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------------- 12.94s
2019-12-11 02:49:32,170 p=1 u=root |  npg_master : Generate npg_stack items ------------------------------------------------------------------------------------------------------------------------------------------------------------- 9.48s
2019-12-11 02:49:32,171 p=1 u=root |  npg_master : copy external npg stack items -------------------------------------------------------------------------------------------------------------------------------------------------------- 6.69s
2019-12-11 02:49:32,171 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 3.03s
2019-12-11 02:49:32,171 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 2.71s
2019-12-11 02:49:32,172 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.18s
2019-12-11 02:49:32,172 p=1 u=root |  npg_master : Start and enable npg service --------------------------------------------------------------------------------------------------------------------------------------------------------- 1.35s
2019-12-11 02:49:32,172 p=1 u=root |  npg_master : copy dashboard.js to all node -------------------------------------------------------------------------------------------------------------------------------------------------------- 1.09s
2019-12-11 02:49:32,172 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack --------------------------------------------------------------------------------------------------------------------------------------- 1.08s
2019-12-11 02:49:32,173 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master ---------------------------------------------------------------------------------------------------------------------------------------- 1.08s
2019-12-11 02:49:32,173 p=1 u=root |  npg_master : copy docker-compose files to external npg stack -------------------------------------------------------------------------------------------------------------------------------------- 0.78s
2019-12-11 02:49:32,173 p=1 u=root |  npg_master : upload npg systemd files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 0.78s
2019-12-11 02:49:32,174 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote ---------------------------------------------------------------------------------------------------------------------------------------------- 0.76s
2019-12-11 02:49:32,174 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 0.74s
2019-12-11 02:49:32,174 p=1 u=root |  npg_master : upload alert.rules to npg ------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.72s
2019-12-11 02:49:32,175 p=1 u=root |  npg_master : create prometheus storage data dir --------------------------------------------------------------------------------------------------------------------------------------------------- 0.69s
2019-12-11 02:49:32,175 p=1 u=root |  npg_master : restart npg service ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.58s
2019-12-11 02:49:32,175 p=1 u=root |  npg_master : make directory for npg_stack --------------------------------------------------------------------------------------------------------------------------------------------------------- 0.47s
2019-12-11 02:49:32,175 p=1 u=root |  npg_master : Change npg directory priviledge ------------------------------------------------------------------------------------------------------------------------------------------------------ 0.43s
2019-12-11 03:06:04,874 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:06:04,890 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:06:04,916 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:06:04,916 p=1 u=root |  Wednesday 11 December 2019  03:06:04 +0000 (0:00:00.309)       0:00:00.309 **** 
2019-12-11 03:06:07,714 p=1 u=root |  ok: [server]
2019-12-11 03:06:07,807 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:06:07,807 p=1 u=root |  Wednesday 11 December 2019  03:06:07 +0000 (0:00:02.890)       0:00:03.200 **** 
2019-12-11 03:06:09,030 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:06:09,683 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:06:10,028 p=1 u=root |  ok: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:06:10,362 p=1 u=root |  ok: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:06:10,860 p=1 u=root |  ok: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:06:11,292 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:06:11,371 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:06:11,371 p=1 u=root |  Wednesday 11 December 2019  03:06:11 +0000 (0:00:03.564)       0:00:06.764 **** 
2019-12-11 03:06:12,852 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:06:13,258 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:06:13,915 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:06:13,994 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:06:13,995 p=1 u=root |  Wednesday 11 December 2019  03:06:13 +0000 (0:00:02.623)       0:00:09.387 **** 
2019-12-11 03:06:32,005 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:06:32,010 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:06:32,010 p=1 u=root |  server                     : ok=4    changed=3    unreachable=0    failed=0   
2019-12-11 03:06:32,010 p=1 u=root |  Wednesday 11 December 2019  03:06:32 +0000 (0:00:18.015)       0:00:27.403 **** 
2019-12-11 03:06:32,011 p=1 u=root |  =============================================================================== 
2019-12-11 03:06:32,011 p=1 u=root |  npg_master : restart npg service ----------------------------------------------------------------------------------------------------------------------------------------------------------------- 18.02s
2019-12-11 03:06:32,011 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 3.56s
2019-12-11 03:06:32,011 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 2.89s
2019-12-11 03:06:32,012 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.62s
2019-12-11 03:07:25,143 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:07:25,163 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:07:25,164 p=1 u=root |  Wednesday 11 December 2019  03:07:25 +0000 (0:00:00.313)       0:00:00.313 **** 
2019-12-11 03:07:26,548 p=1 u=root |  ok: [localhost]
2019-12-11 03:07:26,587 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:07:26,587 p=1 u=root |  Wednesday 11 December 2019  03:07:26 +0000 (0:00:01.423)       0:00:01.736 **** 
2019-12-11 03:07:26,650 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:07:26,665 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:07:26,676 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:07:26,676 p=1 u=root |  Wednesday 11 December 2019  03:07:26 +0000 (0:00:00.088)       0:00:01.825 **** 
2019-12-11 03:07:28,915 p=1 u=root |  ok: [server]
2019-12-11 03:07:29,016 p=1 u=root |  TASK [stop npg service] **********************************************************************************************************************************************************************************
2019-12-11 03:07:29,017 p=1 u=root |  Wednesday 11 December 2019  03:07:29 +0000 (0:00:02.340)       0:00:04.166 **** 
2019-12-11 03:07:45,922 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:07:45,940 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:07:46,025 p=1 u=root |  TASK [stop docker service] *******************************************************************************************************************************************************************************
2019-12-11 03:07:46,026 p=1 u=root |  Wednesday 11 December 2019  03:07:46 +0000 (0:00:17.009)       0:00:21.175 **** 
2019-12-11 03:23:29,887 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:23:29,908 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:23:29,909 p=1 u=root |  Wednesday 11 December 2019  03:23:29 +0000 (0:00:00.288)       0:00:00.288 **** 
2019-12-11 03:23:29,974 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:23:29,987 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:23:30,004 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:23:30,005 p=1 u=root |  Wednesday 11 December 2019  03:23:30 +0000 (0:00:00.096)       0:00:00.384 **** 
2019-12-11 03:23:33,629 p=1 u=root |  ok: [server]
2019-12-11 03:23:33,675 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] ******************************************************************************************************************************************************
2019-12-11 03:23:33,676 p=1 u=root |  Wednesday 11 December 2019  03:23:33 +0000 (0:00:03.670)       0:00:04.055 **** 
2019-12-11 03:23:46,558 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2019-12-11 03:23:46,600 p=1 u=root |  TASK [npg_master : Load npg docker images] ***************************************************************************************************************************************************************
2019-12-11 03:23:46,600 p=1 u=root |  Wednesday 11 December 2019  03:23:46 +0000 (0:00:12.924)       0:00:16.979 **** 
2019-12-11 03:25:58,885 p=1 u=root |  changed: [server]
2019-12-11 03:25:58,927 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:25:58,927 p=1 u=root |  Wednesday 11 December 2019  03:25:58 +0000 (0:02:12.326)       0:02:29.306 **** 
2019-12-11 03:25:59,990 p=1 u=root |  changed: [server] => (item=files/npg.service)
2019-12-11 03:26:00,035 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ****************************************************************************************************************************************
2019-12-11 03:26:00,036 p=1 u=root |  Wednesday 11 December 2019  03:26:00 +0000 (0:00:01.108)       0:02:30.414 **** 
2019-12-11 03:26:01,623 p=1 u=root |  changed: [server]
2019-12-11 03:26:01,662 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ********************************************************************************************************************************************************
2019-12-11 03:26:01,663 p=1 u=root |  Wednesday 11 December 2019  03:26:01 +0000 (0:00:01.626)       0:02:32.041 **** 
2019-12-11 03:26:02,463 p=1 u=root |  changed: [server] => (item=files/dashboard.js)
2019-12-11 03:26:03,078 p=1 u=root |  changed: [server] => (item=files/uninstall_monitor.sh)
2019-12-11 03:26:03,119 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:26:03,120 p=1 u=root |  Wednesday 11 December 2019  03:26:03 +0000 (0:00:01.456)       0:02:33.499 **** 
2019-12-11 03:26:04,221 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:26:04,789 p=1 u=root |  changed: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:26:05,508 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:26:06,235 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:26:07,036 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:26:07,647 p=1 u=root |  changed: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:26:07,692 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ************************************************************************************************************************************************************
2019-12-11 03:26:07,692 p=1 u=root |  Wednesday 11 December 2019  03:26:07 +0000 (0:00:04.572)       0:02:38.072 **** 
2019-12-11 03:26:08,647 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2019-12-11 03:26:08,691 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ************************************************************************************************************************************************
2019-12-11 03:26:08,692 p=1 u=root |  Wednesday 11 December 2019  03:26:08 +0000 (0:00:00.998)       0:02:39.071 **** 
2019-12-11 03:26:09,143 p=1 u=root |  changed: [server]
2019-12-11 03:26:09,184 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:26:09,184 p=1 u=root |  Wednesday 11 December 2019  03:26:09 +0000 (0:00:00.492)       0:02:39.563 **** 
2019-12-11 03:26:10,514 p=1 u=root |  changed: [server]
2019-12-11 03:26:10,554 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:26:10,555 p=1 u=root |  Wednesday 11 December 2019  03:26:10 +0000 (0:00:01.370)       0:02:40.934 **** 
2019-12-11 03:26:11,890 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:26:12,657 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:26:13,518 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:26:13,559 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] ***************************************************************************************************************************************************
2019-12-11 03:26:13,559 p=1 u=root |  Wednesday 11 December 2019  03:26:13 +0000 (0:00:03.004)       0:02:43.938 **** 
2019-12-11 03:26:14,188 p=1 u=root |  ok: [server]
2019-12-11 03:26:14,227 p=1 u=root |  TASK [npg_master : create loki storage data dir] *********************************************************************************************************************************************************
2019-12-11 03:26:14,227 p=1 u=root |  Wednesday 11 December 2019  03:26:14 +0000 (0:00:00.667)       0:02:44.606 **** 
2019-12-11 03:26:14,588 p=1 u=root |  ok: [server]
2019-12-11 03:26:14,627 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] ******************************************************************************************************************************************************
2019-12-11 03:26:14,628 p=1 u=root |  Wednesday 11 December 2019  03:26:14 +0000 (0:00:00.400)       0:02:45.007 **** 
2019-12-11 03:26:15,062 p=1 u=root |  changed: [server]
2019-12-11 03:26:15,106 p=1 u=root |  TASK [npg_master : Start and enable npg service] *********************************************************************************************************************************************************
2019-12-11 03:26:15,106 p=1 u=root |  Wednesday 11 December 2019  03:26:15 +0000 (0:00:00.478)       0:02:45.485 **** 
2019-12-11 03:26:16,811 p=1 u=root |  changed: [server]
2019-12-11 03:26:16,850 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:26:16,851 p=1 u=root |  Wednesday 11 December 2019  03:26:16 +0000 (0:00:01.744)       0:02:47.230 **** 
2019-12-11 03:26:17,481 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:26:17,522 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *********************************************************************************************************************************************************
2019-12-11 03:26:17,522 p=1 u=root |  Wednesday 11 December 2019  03:26:17 +0000 (0:00:00.671)       0:02:47.901 **** 
2019-12-11 03:26:17,959 p=1 u=root |  changed: [server]
2019-12-11 03:26:17,998 p=1 u=root |  TASK [npg_master : copy external npg stack items] ********************************************************************************************************************************************************
2019-12-11 03:26:17,999 p=1 u=root |  Wednesday 11 December 2019  03:26:17 +0000 (0:00:00.476)       0:02:48.378 **** 
2019-12-11 03:26:18,789 p=1 u=root |  changed: [server] => (item=files/nodeexporter.service)
2019-12-11 03:26:19,307 p=1 u=root |  changed: [server] => (item=files/docker-compose.yml.nodeexporter)
2019-12-11 03:26:21,406 p=1 u=root |  changed: [server] => (item=files/npg_stack_images.tar.xz)
2019-12-11 03:26:22,322 p=1 u=root |  changed: [server] => (item=files/docker-compose)
2019-12-11 03:26:23,991 p=1 u=root |  changed: [server] => (item=files/docker-19.03.5.tgz)
2019-12-11 03:26:24,597 p=1 u=root |  changed: [server] => (item=files/docker.service)
2019-12-11 03:26:25,131 p=1 u=root |  changed: [server] => (item=files/netdata.service)
2019-12-11 03:26:25,171 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] ***************************************************************************************************************************************
2019-12-11 03:26:25,172 p=1 u=root |  Wednesday 11 December 2019  03:26:25 +0000 (0:00:07.172)       0:02:55.551 **** 
2019-12-11 03:26:26,209 p=1 u=root |  changed: [server]
2019-12-11 03:26:26,249 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] **************************************************************************************************************************************
2019-12-11 03:26:26,249 p=1 u=root |  Wednesday 11 December 2019  03:26:26 +0000 (0:00:01.077)       0:02:56.628 **** 
2019-12-11 03:26:27,043 p=1 u=root |  changed: [server]
2019-12-11 03:26:27,085 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **********************************************************************************************************************************************
2019-12-11 03:26:27,085 p=1 u=root |  Wednesday 11 December 2019  03:26:27 +0000 (0:00:00.835)       0:02:57.464 **** 
2019-12-11 03:26:27,921 p=1 u=root |  changed: [server]
2019-12-11 03:26:27,961 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *************************************************************************************************************************************************************
2019-12-11 03:26:27,961 p=1 u=root |  Wednesday 11 December 2019  03:26:27 +0000 (0:00:00.876)       0:02:58.340 **** 
2019-12-11 03:26:36,859 p=1 u=root |  changed: [server]
2019-12-11 03:26:36,899 p=1 u=root |  TASK [npg_master : Generate npg client configurations] ***************************************************************************************************************************************************
2019-12-11 03:26:36,899 p=1 u=root |  Wednesday 11 December 2019  03:26:36 +0000 (0:00:08.937)       0:03:07.278 **** 
2019-12-11 03:26:37,310 p=1 u=root |  changed: [server]
2019-12-11 03:26:37,312 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:26:37,312 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2019-12-11 03:26:37,313 p=1 u=root |  server                     : ok=23   changed=20   unreachable=0    failed=0   
2019-12-11 03:26:37,313 p=1 u=root |  Wednesday 11 December 2019  03:26:37 +0000 (0:00:00.413)       0:03:07.692 **** 
2019-12-11 03:26:37,313 p=1 u=root |  =============================================================================== 
2019-12-11 03:26:37,313 p=1 u=root |  npg_master : Load npg docker images ------------------------------------------------------------------------------------------------------------------------------------------------------------- 132.33s
2019-12-11 03:26:37,313 p=1 u=root |  npg_master : upload npg images to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------------- 12.92s
2019-12-11 03:26:37,314 p=1 u=root |  npg_master : Generate npg_stack items ------------------------------------------------------------------------------------------------------------------------------------------------------------- 8.94s
2019-12-11 03:26:37,314 p=1 u=root |  npg_master : copy external npg stack items -------------------------------------------------------------------------------------------------------------------------------------------------------- 7.17s
2019-12-11 03:26:37,314 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 4.57s
2019-12-11 03:26:37,314 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 3.67s
2019-12-11 03:26:37,315 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.00s
2019-12-11 03:26:37,315 p=1 u=root |  npg_master : Start and enable npg service --------------------------------------------------------------------------------------------------------------------------------------------------------- 1.74s
2019-12-11 03:26:37,315 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master ---------------------------------------------------------------------------------------------------------------------------------------- 1.63s
2019-12-11 03:26:37,315 p=1 u=root |  npg_master : copy dashboard.js to all node -------------------------------------------------------------------------------------------------------------------------------------------------------- 1.46s
2019-12-11 03:26:37,316 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.37s
2019-12-11 03:26:37,316 p=1 u=root |  npg_master : upload npg systemd files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.11s
2019-12-11 03:26:37,316 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack --------------------------------------------------------------------------------------------------------------------------------------- 1.08s
2019-12-11 03:26:37,316 p=1 u=root |  npg_master : upload alert.rules to npg ------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.00s
2019-12-11 03:26:37,316 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote ---------------------------------------------------------------------------------------------------------------------------------------------- 0.88s
2019-12-11 03:26:37,317 p=1 u=root |  npg_master : copy docker-compose files to external npg stack -------------------------------------------------------------------------------------------------------------------------------------- 0.84s
2019-12-11 03:26:37,317 p=1 u=root |  npg_master : restart npg service ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.67s
2019-12-11 03:26:37,317 p=1 u=root |  npg_master : create prometheus storage data dir --------------------------------------------------------------------------------------------------------------------------------------------------- 0.67s
2019-12-11 03:26:37,317 p=1 u=root |  npg_master : create dir /usr/local/npg/static/ajax ------------------------------------------------------------------------------------------------------------------------------------------------ 0.49s
2019-12-11 03:26:37,317 p=1 u=root |  npg_master : Change npg directory priviledge ------------------------------------------------------------------------------------------------------------------------------------------------------ 0.48s
2019-12-11 03:38:17,290 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:38:17,307 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:38:17,307 p=1 u=root |  Wednesday 11 December 2019  03:38:17 +0000 (0:00:00.272)       0:00:00.272 **** 
2019-12-11 03:38:18,459 p=1 u=root |  ok: [localhost]
2019-12-11 03:38:18,486 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:38:18,486 p=1 u=root |  Wednesday 11 December 2019  03:38:18 +0000 (0:00:01.178)       0:00:01.451 **** 
2019-12-11 03:38:18,547 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:38:18,558 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:38:18,567 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:38:18,567 p=1 u=root |  Wednesday 11 December 2019  03:38:18 +0000 (0:00:00.081)       0:00:01.532 **** 
2019-12-11 03:38:24,601 p=1 u=root |  ok: [server]
2019-12-11 03:38:24,681 p=1 u=root |  TASK [stop npg service] **********************************************************************************************************************************************************************************
2019-12-11 03:38:24,681 p=1 u=root |  Wednesday 11 December 2019  03:38:24 +0000 (0:00:06.113)       0:00:07.646 **** 
2019-12-11 03:38:42,283 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:38:42,295 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:38:42,368 p=1 u=root |  TASK [stop docker service] *******************************************************************************************************************************************************************************
2019-12-11 03:38:42,368 p=1 u=root |  Wednesday 11 December 2019  03:38:42 +0000 (0:00:17.686)       0:00:25.333 **** 
2019-12-11 03:41:36,855 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:41:36,873 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:41:36,873 p=1 u=root |  Wednesday 11 December 2019  03:41:36 +0000 (0:00:00.277)       0:00:00.277 **** 
2019-12-11 03:41:36,938 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:41:36,950 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:41:36,967 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:41:36,968 p=1 u=root |  Wednesday 11 December 2019  03:41:36 +0000 (0:00:00.094)       0:00:00.371 **** 
2019-12-11 03:41:43,015 p=1 u=root |  ok: [server]
2019-12-11 03:41:43,088 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] ******************************************************************************************************************************************************
2019-12-11 03:41:43,088 p=1 u=root |  Wednesday 11 December 2019  03:41:43 +0000 (0:00:06.120)       0:00:06.492 **** 
2019-12-11 03:41:55,815 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2019-12-11 03:41:55,880 p=1 u=root |  TASK [npg_master : Load npg docker images] ***************************************************************************************************************************************************************
2019-12-11 03:41:55,880 p=1 u=root |  Wednesday 11 December 2019  03:41:55 +0000 (0:00:12.792)       0:00:19.284 **** 
2019-12-11 03:43:17,692 p=1 u=root |  changed: [server]
2019-12-11 03:43:17,770 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:43:17,770 p=1 u=root |  Wednesday 11 December 2019  03:43:17 +0000 (0:01:21.889)       0:01:41.174 **** 
2019-12-11 03:43:19,211 p=1 u=root |  ok: [server] => (item=files/npg.service)
2019-12-11 03:43:19,273 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ****************************************************************************************************************************************
2019-12-11 03:43:19,273 p=1 u=root |  Wednesday 11 December 2019  03:43:19 +0000 (0:00:01.502)       0:01:42.677 **** 
2019-12-11 03:43:20,911 p=1 u=root |  changed: [server]
2019-12-11 03:43:20,987 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ********************************************************************************************************************************************************
2019-12-11 03:43:20,988 p=1 u=root |  Wednesday 11 December 2019  03:43:20 +0000 (0:00:01.714)       0:01:44.391 **** 
2019-12-11 03:43:21,940 p=1 u=root |  ok: [server] => (item=files/dashboard.js)
2019-12-11 03:43:22,563 p=1 u=root |  ok: [server] => (item=files/uninstall_monitor.sh)
2019-12-11 03:43:22,627 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:43:22,627 p=1 u=root |  Wednesday 11 December 2019  03:43:22 +0000 (0:00:01.639)       0:01:46.031 **** 
2019-12-11 03:43:23,760 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:43:24,467 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:43:25,209 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:43:25,926 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:43:26,814 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:43:27,550 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:43:27,622 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ************************************************************************************************************************************************************
2019-12-11 03:43:27,623 p=1 u=root |  Wednesday 11 December 2019  03:43:27 +0000 (0:00:04.995)       0:01:51.026 **** 
2019-12-11 03:43:28,594 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2019-12-11 03:43:28,666 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ************************************************************************************************************************************************
2019-12-11 03:43:28,666 p=1 u=root |  Wednesday 11 December 2019  03:43:28 +0000 (0:00:01.043)       0:01:52.069 **** 
2019-12-11 03:43:29,110 p=1 u=root |  changed: [server]
2019-12-11 03:43:29,198 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:43:29,198 p=1 u=root |  Wednesday 11 December 2019  03:43:29 +0000 (0:00:00.532)       0:01:52.602 **** 
2019-12-11 03:43:30,566 p=1 u=root |  changed: [server]
2019-12-11 03:43:30,635 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:43:30,635 p=1 u=root |  Wednesday 11 December 2019  03:43:30 +0000 (0:00:01.436)       0:01:54.039 **** 
2019-12-11 03:43:32,254 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:43:33,048 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:43:34,038 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:43:34,101 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] ***************************************************************************************************************************************************
2019-12-11 03:43:34,102 p=1 u=root |  Wednesday 11 December 2019  03:43:34 +0000 (0:00:03.466)       0:01:57.505 **** 
2019-12-11 03:43:34,463 p=1 u=root |  ok: [server]
2019-12-11 03:43:34,525 p=1 u=root |  TASK [npg_master : create loki storage data dir] *********************************************************************************************************************************************************
2019-12-11 03:43:34,525 p=1 u=root |  Wednesday 11 December 2019  03:43:34 +0000 (0:00:00.423)       0:01:57.928 **** 
2019-12-11 03:43:34,916 p=1 u=root |  ok: [server]
2019-12-11 03:43:34,979 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] ******************************************************************************************************************************************************
2019-12-11 03:43:34,979 p=1 u=root |  Wednesday 11 December 2019  03:43:34 +0000 (0:00:00.454)       0:01:58.383 **** 
2019-12-11 03:43:35,442 p=1 u=root |  changed: [server]
2019-12-11 03:43:35,505 p=1 u=root |  TASK [npg_master : Start and enable npg service] *********************************************************************************************************************************************************
2019-12-11 03:43:35,506 p=1 u=root |  Wednesday 11 December 2019  03:43:35 +0000 (0:00:00.526)       0:01:58.909 **** 
2019-12-11 03:43:36,863 p=1 u=root |  changed: [server]
2019-12-11 03:43:36,931 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:43:36,931 p=1 u=root |  Wednesday 11 December 2019  03:43:36 +0000 (0:00:01.425)       0:02:00.334 **** 
2019-12-11 03:43:37,600 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:43:37,661 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *********************************************************************************************************************************************************
2019-12-11 03:43:37,662 p=1 u=root |  Wednesday 11 December 2019  03:43:37 +0000 (0:00:00.730)       0:02:01.065 **** 
2019-12-11 03:43:38,113 p=1 u=root |  changed: [server]
2019-12-11 03:43:38,176 p=1 u=root |  TASK [npg_master : copy external npg stack items] ********************************************************************************************************************************************************
2019-12-11 03:43:38,176 p=1 u=root |  Wednesday 11 December 2019  03:43:38 +0000 (0:00:00.514)       0:02:01.579 **** 
2019-12-11 03:43:39,067 p=1 u=root |  ok: [server] => (item=files/nodeexporter.service)
2019-12-11 03:43:39,750 p=1 u=root |  ok: [server] => (item=files/docker-compose.yml.nodeexporter)
2019-12-11 03:43:40,837 p=1 u=root |  ok: [server] => (item=files/npg_stack_images.tar.xz)
2019-12-11 03:43:41,548 p=1 u=root |  ok: [server] => (item=files/docker-compose)
2019-12-11 03:43:42,529 p=1 u=root |  ok: [server] => (item=files/docker-19.03.5.tgz)
2019-12-11 03:43:43,212 p=1 u=root |  ok: [server] => (item=files/docker.service)
2019-12-11 03:43:43,990 p=1 u=root |  ok: [server] => (item=files/netdata.service)
2019-12-11 03:43:44,066 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] ***************************************************************************************************************************************
2019-12-11 03:43:44,067 p=1 u=root |  Wednesday 11 December 2019  03:43:44 +0000 (0:00:05.890)       0:02:07.470 **** 
2019-12-11 03:43:45,471 p=1 u=root |  ok: [server]
2019-12-11 03:43:45,530 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] **************************************************************************************************************************************
2019-12-11 03:43:45,530 p=1 u=root |  Wednesday 11 December 2019  03:43:45 +0000 (0:00:01.463)       0:02:08.934 **** 
2019-12-11 03:43:46,535 p=1 u=root |  ok: [server]
2019-12-11 03:43:46,600 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **********************************************************************************************************************************************
2019-12-11 03:43:46,601 p=1 u=root |  Wednesday 11 December 2019  03:43:46 +0000 (0:00:01.070)       0:02:10.004 **** 
2019-12-11 03:43:47,567 p=1 u=root |  ok: [server]
2019-12-11 03:43:47,627 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *************************************************************************************************************************************************************
2019-12-11 03:43:47,628 p=1 u=root |  Wednesday 11 December 2019  03:43:47 +0000 (0:00:01.026)       0:02:11.031 **** 
2019-12-11 03:43:56,815 p=1 u=root |  changed: [server]
2019-12-11 03:43:56,882 p=1 u=root |  TASK [npg_master : Generate npg client configurations] ***************************************************************************************************************************************************
2019-12-11 03:43:56,883 p=1 u=root |  Wednesday 11 December 2019  03:43:56 +0000 (0:00:09.255)       0:02:20.286 **** 
2019-12-11 03:43:57,355 p=1 u=root |  changed: [server]
2019-12-11 03:43:57,358 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:43:57,358 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2019-12-11 03:43:57,359 p=1 u=root |  server                     : ok=23   changed=14   unreachable=0    failed=0   
2019-12-11 03:43:57,359 p=1 u=root |  Wednesday 11 December 2019  03:43:57 +0000 (0:00:00.476)       0:02:20.763 **** 
2019-12-11 03:43:57,359 p=1 u=root |  =============================================================================== 
2019-12-11 03:43:57,360 p=1 u=root |  npg_master : Load npg docker images -------------------------------------------------------------------------------------------------------------------------------------------------------------- 81.89s
2019-12-11 03:43:57,360 p=1 u=root |  npg_master : upload npg images to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------------- 12.79s
2019-12-11 03:43:57,360 p=1 u=root |  npg_master : Generate npg_stack items ------------------------------------------------------------------------------------------------------------------------------------------------------------- 9.26s
2019-12-11 03:43:57,360 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 6.12s
2019-12-11 03:43:57,360 p=1 u=root |  npg_master : copy external npg stack items -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.89s
2019-12-11 03:43:57,360 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.00s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.47s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master ---------------------------------------------------------------------------------------------------------------------------------------- 1.71s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : copy dashboard.js to all node -------------------------------------------------------------------------------------------------------------------------------------------------------- 1.64s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : upload npg systemd files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.50s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack --------------------------------------------------------------------------------------------------------------------------------------- 1.46s
2019-12-11 03:43:57,361 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.44s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : Start and enable npg service --------------------------------------------------------------------------------------------------------------------------------------------------------- 1.43s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : copy docker-compose files to external npg stack -------------------------------------------------------------------------------------------------------------------------------------- 1.07s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : upload alert.rules to npg ------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.04s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote ---------------------------------------------------------------------------------------------------------------------------------------------- 1.03s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : restart npg service ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.73s
2019-12-11 03:43:57,362 p=1 u=root |  npg_master : create dir /usr/local/npg/static/ajax ------------------------------------------------------------------------------------------------------------------------------------------------ 0.53s
2019-12-11 03:43:57,363 p=1 u=root |  npg_master : Change npg directory priviledge ------------------------------------------------------------------------------------------------------------------------------------------------------ 0.53s
2019-12-11 03:43:57,363 p=1 u=root |  npg_master : make directory for npg_stack --------------------------------------------------------------------------------------------------------------------------------------------------------- 0.51s
2019-12-11 03:46:49,272 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:46:49,286 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:46:49,309 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:46:49,309 p=1 u=root |  Wednesday 11 December 2019  03:46:49 +0000 (0:00:00.296)       0:00:00.296 **** 
2019-12-11 03:46:56,065 p=1 u=root |  ok: [server]
2019-12-11 03:46:56,141 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:46:56,142 p=1 u=root |  Wednesday 11 December 2019  03:46:56 +0000 (0:00:06.832)       0:00:07.129 **** 
2019-12-11 03:46:57,635 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:46:58,640 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:46:59,283 p=1 u=root |  ok: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:46:59,907 p=1 u=root |  ok: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:47:00,697 p=1 u=root |  ok: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:47:01,437 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:47:01,515 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:47:01,516 p=1 u=root |  Wednesday 11 December 2019  03:47:01 +0000 (0:00:05.373)       0:00:12.503 **** 
2019-12-11 03:47:03,227 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:47:03,924 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:47:04,823 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:47:04,897 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:47:04,897 p=1 u=root |  Wednesday 11 December 2019  03:47:04 +0000 (0:00:03.381)       0:00:15.884 **** 
2019-12-11 03:47:22,467 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:47:22,470 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:47:22,470 p=1 u=root |  server                     : ok=4    changed=3    unreachable=0    failed=0   
2019-12-11 03:47:22,471 p=1 u=root |  Wednesday 11 December 2019  03:47:22 +0000 (0:00:17.573)       0:00:33.458 **** 
2019-12-11 03:47:22,471 p=1 u=root |  =============================================================================== 
2019-12-11 03:47:22,471 p=1 u=root |  npg_master : restart npg service ----------------------------------------------------------------------------------------------------------------------------------------------------------------- 17.57s
2019-12-11 03:47:22,471 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 6.83s
2019-12-11 03:47:22,472 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.37s
2019-12-11 03:47:22,472 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.38s
2019-12-11 03:53:06,421 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:53:06,434 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:53:06,458 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:53:06,459 p=1 u=root |  Wednesday 11 December 2019  03:53:06 +0000 (0:00:00.310)       0:00:00.310 **** 
2019-12-11 03:53:13,333 p=1 u=root |  ok: [server]
2019-12-11 03:53:13,408 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:53:13,408 p=1 u=root |  Wednesday 11 December 2019  03:53:13 +0000 (0:00:06.949)       0:00:07.259 **** 
2019-12-11 03:53:14,950 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:53:15,957 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:53:16,598 p=1 u=root |  ok: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:53:17,240 p=1 u=root |  ok: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:53:18,040 p=1 u=root |  ok: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:53:18,807 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:53:18,875 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:53:18,875 p=1 u=root |  Wednesday 11 December 2019  03:53:18 +0000 (0:00:05.467)       0:00:12.727 **** 
2019-12-11 03:53:20,665 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:53:21,370 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:53:22,278 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:53:22,355 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:53:22,355 p=1 u=root |  Wednesday 11 December 2019  03:53:22 +0000 (0:00:03.479)       0:00:16.206 **** 
2019-12-11 03:53:39,962 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:53:39,966 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:53:39,967 p=1 u=root |  server                     : ok=4    changed=3    unreachable=0    failed=0   
2019-12-11 03:53:39,967 p=1 u=root |  Wednesday 11 December 2019  03:53:39 +0000 (0:00:17.611)       0:00:33.818 **** 
2019-12-11 03:53:39,967 p=1 u=root |  =============================================================================== 
2019-12-11 03:53:39,967 p=1 u=root |  npg_master : restart npg service ----------------------------------------------------------------------------------------------------------------------------------------------------------------- 17.61s
2019-12-11 03:53:39,968 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 6.95s
2019-12-11 03:53:39,968 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.47s
2019-12-11 03:53:39,968 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.48s
2019-12-11 03:55:03,693 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:55:03,709 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:55:03,709 p=1 u=root |  Wednesday 11 December 2019  03:55:03 +0000 (0:00:00.271)       0:00:00.271 **** 
2019-12-11 03:55:04,906 p=1 u=root |  ok: [localhost]
2019-12-11 03:55:04,936 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:55:04,937 p=1 u=root |  Wednesday 11 December 2019  03:55:04 +0000 (0:00:01.227)       0:00:01.498 **** 
2019-12-11 03:55:05,004 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:55:05,017 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:55:05,027 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:55:05,027 p=1 u=root |  Wednesday 11 December 2019  03:55:05 +0000 (0:00:00.090)       0:00:01.589 **** 
2019-12-11 03:55:11,162 p=1 u=root |  ok: [server]
2019-12-11 03:55:11,233 p=1 u=root |  TASK [stop npg service] **********************************************************************************************************************************************************************************
2019-12-11 03:55:11,233 p=1 u=root |  Wednesday 11 December 2019  03:55:11 +0000 (0:00:06.205)       0:00:07.795 **** 
2019-12-11 03:55:26,824 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:55:26,837 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:55:26,909 p=1 u=root |  TASK [stop docker service] *******************************************************************************************************************************************************************************
2019-12-11 03:55:26,909 p=1 u=root |  Wednesday 11 December 2019  03:55:26 +0000 (0:00:15.676)       0:00:23.471 **** 
2019-12-11 03:56:11,978 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 03:56:11,996 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************************
2019-12-11 03:56:11,997 p=1 u=root |  Wednesday 11 December 2019  03:56:11 +0000 (0:00:00.300)       0:00:00.300 **** 
2019-12-11 03:56:12,059 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-11 03:56:12,072 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 03:56:12,090 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 03:56:12,090 p=1 u=root |  Wednesday 11 December 2019  03:56:12 +0000 (0:00:00.093)       0:00:00.394 **** 
2019-12-11 03:56:18,195 p=1 u=root |  ok: [server]
2019-12-11 03:56:18,263 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] ******************************************************************************************************************************************************
2019-12-11 03:56:18,264 p=1 u=root |  Wednesday 11 December 2019  03:56:18 +0000 (0:00:06.173)       0:00:06.567 **** 
2019-12-11 03:56:31,072 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2019-12-11 03:56:31,145 p=1 u=root |  TASK [npg_master : Load npg docker images] ***************************************************************************************************************************************************************
2019-12-11 03:56:31,145 p=1 u=root |  Wednesday 11 December 2019  03:56:31 +0000 (0:00:12.881)       0:00:19.449 **** 
2019-12-11 03:57:54,006 p=1 u=root |  changed: [server]
2019-12-11 03:57:54,070 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:57:54,070 p=1 u=root |  Wednesday 11 December 2019  03:57:54 +0000 (0:01:22.924)       0:01:42.374 **** 
2019-12-11 03:57:55,481 p=1 u=root |  ok: [server] => (item=files/npg.service)
2019-12-11 03:57:55,547 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ****************************************************************************************************************************************
2019-12-11 03:57:55,547 p=1 u=root |  Wednesday 11 December 2019  03:57:55 +0000 (0:00:01.477)       0:01:43.851 **** 
2019-12-11 03:57:57,200 p=1 u=root |  changed: [server]
2019-12-11 03:57:57,263 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ********************************************************************************************************************************************************
2019-12-11 03:57:57,263 p=1 u=root |  Wednesday 11 December 2019  03:57:57 +0000 (0:00:01.715)       0:01:45.567 **** 
2019-12-11 03:57:58,269 p=1 u=root |  ok: [server] => (item=files/dashboard.js)
2019-12-11 03:57:58,925 p=1 u=root |  ok: [server] => (item=files/uninstall_monitor.sh)
2019-12-11 03:57:58,990 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 03:57:58,991 p=1 u=root |  Wednesday 11 December 2019  03:57:58 +0000 (0:00:01.727)       0:01:47.294 **** 
2019-12-11 03:58:00,083 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 03:58:00,877 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 03:58:01,628 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 03:58:02,377 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 03:58:03,256 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 03:58:03,997 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 03:58:04,064 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ************************************************************************************************************************************************************
2019-12-11 03:58:04,064 p=1 u=root |  Wednesday 11 December 2019  03:58:04 +0000 (0:00:05.073)       0:01:52.368 **** 
2019-12-11 03:58:05,023 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2019-12-11 03:58:05,091 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ************************************************************************************************************************************************
2019-12-11 03:58:05,092 p=1 u=root |  Wednesday 11 December 2019  03:58:05 +0000 (0:00:01.027)       0:01:53.395 **** 
2019-12-11 03:58:05,541 p=1 u=root |  changed: [server]
2019-12-11 03:58:05,608 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***********************************************************************************************************************************************
2019-12-11 03:58:05,608 p=1 u=root |  Wednesday 11 December 2019  03:58:05 +0000 (0:00:00.516)       0:01:53.912 **** 
2019-12-11 03:58:06,999 p=1 u=root |  changed: [server]
2019-12-11 03:58:07,064 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 03:58:07,065 p=1 u=root |  Wednesday 11 December 2019  03:58:07 +0000 (0:00:01.456)       0:01:55.368 **** 
2019-12-11 03:58:08,671 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 03:58:09,485 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 03:58:10,494 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 03:58:10,567 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] ***************************************************************************************************************************************************
2019-12-11 03:58:10,567 p=1 u=root |  Wednesday 11 December 2019  03:58:10 +0000 (0:00:03.502)       0:01:58.871 **** 
2019-12-11 03:58:10,971 p=1 u=root |  ok: [server]
2019-12-11 03:58:11,034 p=1 u=root |  TASK [npg_master : create loki storage data dir] *********************************************************************************************************************************************************
2019-12-11 03:58:11,035 p=1 u=root |  Wednesday 11 December 2019  03:58:11 +0000 (0:00:00.467)       0:01:59.338 **** 
2019-12-11 03:58:11,410 p=1 u=root |  ok: [server]
2019-12-11 03:58:11,479 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] ******************************************************************************************************************************************************
2019-12-11 03:58:11,479 p=1 u=root |  Wednesday 11 December 2019  03:58:11 +0000 (0:00:00.444)       0:01:59.783 **** 
2019-12-11 03:58:11,921 p=1 u=root |  changed: [server]
2019-12-11 03:58:11,985 p=1 u=root |  TASK [npg_master : Start and enable npg service] *********************************************************************************************************************************************************
2019-12-11 03:58:11,985 p=1 u=root |  Wednesday 11 December 2019  03:58:11 +0000 (0:00:00.506)       0:02:00.289 **** 
2019-12-11 03:58:13,342 p=1 u=root |  changed: [server]
2019-12-11 03:58:13,405 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 03:58:13,405 p=1 u=root |  Wednesday 11 December 2019  03:58:13 +0000 (0:00:01.419)       0:02:01.709 **** 
2019-12-11 03:58:14,070 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 03:58:14,149 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *********************************************************************************************************************************************************
2019-12-11 03:58:14,150 p=1 u=root |  Wednesday 11 December 2019  03:58:14 +0000 (0:00:00.744)       0:02:02.453 **** 
2019-12-11 03:58:14,609 p=1 u=root |  changed: [server]
2019-12-11 03:58:14,681 p=1 u=root |  TASK [npg_master : copy external npg stack items] ********************************************************************************************************************************************************
2019-12-11 03:58:14,681 p=1 u=root |  Wednesday 11 December 2019  03:58:14 +0000 (0:00:00.531)       0:02:02.985 **** 
2019-12-11 03:58:15,593 p=1 u=root |  ok: [server] => (item=files/nodeexporter.service)
2019-12-11 03:58:16,295 p=1 u=root |  ok: [server] => (item=files/docker-compose.yml.nodeexporter)
2019-12-11 03:58:17,371 p=1 u=root |  ok: [server] => (item=files/npg_stack_images.tar.xz)
2019-12-11 03:58:18,120 p=1 u=root |  ok: [server] => (item=files/docker-compose)
2019-12-11 03:58:19,131 p=1 u=root |  ok: [server] => (item=files/docker-19.03.5.tgz)
2019-12-11 03:58:19,764 p=1 u=root |  ok: [server] => (item=files/docker.service)
2019-12-11 03:58:20,476 p=1 u=root |  ok: [server] => (item=files/netdata.service)
2019-12-11 03:58:20,543 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] ***************************************************************************************************************************************
2019-12-11 03:58:20,543 p=1 u=root |  Wednesday 11 December 2019  03:58:20 +0000 (0:00:05.862)       0:02:08.847 **** 
2019-12-11 03:58:22,070 p=1 u=root |  changed: [server]
2019-12-11 03:58:22,150 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] **************************************************************************************************************************************
2019-12-11 03:58:22,150 p=1 u=root |  Wednesday 11 December 2019  03:58:22 +0000 (0:00:01.606)       0:02:10.454 **** 
2019-12-11 03:58:23,193 p=1 u=root |  ok: [server]
2019-12-11 03:58:23,261 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **********************************************************************************************************************************************
2019-12-11 03:58:23,261 p=1 u=root |  Wednesday 11 December 2019  03:58:23 +0000 (0:00:01.110)       0:02:11.565 **** 
2019-12-11 03:58:24,212 p=1 u=root |  ok: [server]
2019-12-11 03:58:24,276 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *************************************************************************************************************************************************************
2019-12-11 03:58:24,276 p=1 u=root |  Wednesday 11 December 2019  03:58:24 +0000 (0:00:01.015)       0:02:12.580 **** 
2019-12-11 03:58:33,019 p=1 u=root |  changed: [server]
2019-12-11 03:58:33,106 p=1 u=root |  TASK [npg_master : Generate npg client configurations] ***************************************************************************************************************************************************
2019-12-11 03:58:33,107 p=1 u=root |  Wednesday 11 December 2019  03:58:33 +0000 (0:00:08.830)       0:02:21.411 **** 
2019-12-11 03:58:33,552 p=1 u=root |  changed: [server]
2019-12-11 03:58:33,555 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 03:58:33,556 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2019-12-11 03:58:33,556 p=1 u=root |  server                     : ok=23   changed=15   unreachable=0    failed=0   
2019-12-11 03:58:33,556 p=1 u=root |  Wednesday 11 December 2019  03:58:33 +0000 (0:00:00.449)       0:02:21.860 **** 
2019-12-11 03:58:33,556 p=1 u=root |  =============================================================================== 
2019-12-11 03:58:33,557 p=1 u=root |  npg_master : Load npg docker images -------------------------------------------------------------------------------------------------------------------------------------------------------------- 82.92s
2019-12-11 03:58:33,557 p=1 u=root |  npg_master : upload npg images to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------------- 12.88s
2019-12-11 03:58:33,557 p=1 u=root |  npg_master : Generate npg_stack items ------------------------------------------------------------------------------------------------------------------------------------------------------------- 8.83s
2019-12-11 03:58:33,557 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 6.17s
2019-12-11 03:58:33,557 p=1 u=root |  npg_master : copy external npg stack items -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.86s
2019-12-11 03:58:33,558 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.07s
2019-12-11 03:58:33,558 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.50s
2019-12-11 03:58:33,558 p=1 u=root |  npg_master : copy dashboard.js to all node -------------------------------------------------------------------------------------------------------------------------------------------------------- 1.73s
2019-12-11 03:58:33,558 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master ---------------------------------------------------------------------------------------------------------------------------------------- 1.72s
2019-12-11 03:58:33,558 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack --------------------------------------------------------------------------------------------------------------------------------------- 1.61s
2019-12-11 03:58:33,559 p=1 u=root |  npg_master : upload npg systemd files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.48s
2019-12-11 03:58:33,559 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master ----------------------------------------------------------------------------------------------------------------------------------------------- 1.46s
2019-12-11 03:58:33,559 p=1 u=root |  npg_master : Start and enable npg service --------------------------------------------------------------------------------------------------------------------------------------------------------- 1.42s
2019-12-11 03:58:33,560 p=1 u=root |  npg_master : copy docker-compose files to external npg stack -------------------------------------------------------------------------------------------------------------------------------------- 1.11s
2019-12-11 03:58:33,560 p=1 u=root |  npg_master : upload alert.rules to npg ------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.03s
2019-12-11 03:58:33,560 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote ---------------------------------------------------------------------------------------------------------------------------------------------- 1.02s
2019-12-11 03:58:33,561 p=1 u=root |  npg_master : restart npg service ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.74s
2019-12-11 03:58:33,561 p=1 u=root |  npg_master : make directory for npg_stack --------------------------------------------------------------------------------------------------------------------------------------------------------- 0.53s
2019-12-11 03:58:33,561 p=1 u=root |  npg_master : create dir /usr/local/npg/static/ajax ------------------------------------------------------------------------------------------------------------------------------------------------ 0.52s
2019-12-11 03:58:33,561 p=1 u=root |  npg_master : Change npg directory priviledge ------------------------------------------------------------------------------------------------------------------------------------------------------ 0.51s
2019-12-11 04:03:15,901 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************************
2019-12-11 04:03:15,915 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************************
2019-12-11 04:03:15,942 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************************
2019-12-11 04:03:15,943 p=1 u=root |  Wednesday 11 December 2019  04:03:15 +0000 (0:00:00.330)       0:00:00.331 **** 
2019-12-11 04:03:22,743 p=1 u=root |  ok: [server]
2019-12-11 04:03:22,822 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************************
2019-12-11 04:03:22,823 p=1 u=root |  Wednesday 11 December 2019  04:03:22 +0000 (0:00:06.879)       0:00:07.210 **** 
2019-12-11 04:03:24,352 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-11 04:03:25,325 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-11 04:03:25,955 p=1 u=root |  ok: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-11 04:03:26,595 p=1 u=root |  ok: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-11 04:03:27,400 p=1 u=root |  ok: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-11 04:03:28,138 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-11 04:03:28,211 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************************
2019-12-11 04:03:28,211 p=1 u=root |  Wednesday 11 December 2019  04:03:28 +0000 (0:00:05.388)       0:00:12.599 **** 
2019-12-11 04:03:29,920 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-11 04:03:30,612 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-11 04:03:31,526 p=1 u=root |  ok: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-11 04:03:31,600 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************************
2019-12-11 04:03:31,600 p=1 u=root |  Wednesday 11 December 2019  04:03:31 +0000 (0:00:03.389)       0:00:15.988 **** 
2019-12-11 04:03:44,124 p=1 u=root |  changed: [server] => (item=npg)
2019-12-11 04:03:44,129 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************************
2019-12-11 04:03:44,129 p=1 u=root |  server                     : ok=4    changed=3    unreachable=0    failed=0   
2019-12-11 04:03:44,130 p=1 u=root |  Wednesday 11 December 2019  04:03:44 +0000 (0:00:12.529)       0:00:28.517 **** 
2019-12-11 04:03:44,130 p=1 u=root |  =============================================================================== 
2019-12-11 04:03:44,130 p=1 u=root |  npg_master : restart npg service ----------------------------------------------------------------------------------------------------------------------------------------------------------------- 12.53s
2019-12-11 04:03:44,130 p=1 u=root |  Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 6.88s
2019-12-11 04:03:44,130 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------------------- 5.39s
2019-12-11 04:03:44,131 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.39s
2019-12-26 04:48:27,950 p=1 u=root |  PLAY [localhost] *****************************************************************************************************************************************************************************
2019-12-26 04:48:27,967 p=1 u=root |  TASK [Check ansible version >=2.7.8] *********************************************************************************************************************************************************
2019-12-26 04:48:27,968 p=1 u=root |  Thursday 26 December 2019  04:48:27 +0000 (0:00:00.292)       0:00:00.292 ***** 
2019-12-26 04:48:28,045 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2019-12-26 04:48:28,059 p=1 u=root |  PLAY [npg-master] ****************************************************************************************************************************************************************************
2019-12-26 04:48:28,077 p=1 u=root |  TASK [Gathering Facts] ***********************************************************************************************************************************************************************
2019-12-26 04:48:28,077 p=1 u=root |  Thursday 26 December 2019  04:48:28 +0000 (0:00:00.109)       0:00:00.401 ***** 
2019-12-26 04:49:00,129 p=1 u=root |  ok: [server]
2019-12-26 04:49:00,194 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] ******************************************************************************************************************************************
2019-12-26 04:49:00,194 p=1 u=root |  Thursday 26 December 2019  04:49:00 +0000 (0:00:32.116)       0:00:32.518 ***** 
2019-12-26 04:49:19,077 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2019-12-26 04:49:19,136 p=1 u=root |  TASK [npg_master : Load npg docker images] ***************************************************************************************************************************************************
2019-12-26 04:49:19,136 p=1 u=root |  Thursday 26 December 2019  04:49:19 +0000 (0:00:18.942)       0:00:51.460 ***** 
2019-12-26 04:52:33,918 p=1 u=root |  changed: [server]
2019-12-26 04:52:34,029 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***********************************************************************************************************************************
2019-12-26 04:52:34,029 p=1 u=root |  Thursday 26 December 2019  04:52:34 +0000 (0:03:14.892)       0:04:06.353 ***** 
2019-12-26 04:52:37,506 p=1 u=root |  changed: [server] => (item=files/npg.service)
2019-12-26 04:52:37,607 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ****************************************************************************************************************************
2019-12-26 04:52:37,607 p=1 u=root |  Thursday 26 December 2019  04:52:37 +0000 (0:00:03.578)       0:04:09.931 ***** 
2019-12-26 04:52:38,848 p=1 u=root |  changed: [server]
2019-12-26 04:52:38,904 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ********************************************************************************************************************************************
2019-12-26 04:52:38,904 p=1 u=root |  Thursday 26 December 2019  04:52:38 +0000 (0:00:01.297)       0:04:11.228 ***** 
2019-12-26 04:52:39,554 p=1 u=root |  changed: [server] => (item=files/dashboard.js)
2019-12-26 04:52:39,951 p=1 u=root |  changed: [server] => (item=files/uninstall_monitor.sh)
2019-12-26 04:52:40,025 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ********************************************************************************************************************************************
2019-12-26 04:52:40,026 p=1 u=root |  Thursday 26 December 2019  04:52:40 +0000 (0:00:01.120)       0:04:12.349 ***** 
2019-12-26 04:52:40,865 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2019-12-26 04:52:41,360 p=1 u=root |  changed: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2019-12-26 04:52:41,769 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2019-12-26 04:52:42,205 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2019-12-26 04:52:42,770 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2019-12-26 04:52:43,252 p=1 u=root |  changed: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2019-12-26 04:52:43,320 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ************************************************************************************************************************************************
2019-12-26 04:52:43,321 p=1 u=root |  Thursday 26 December 2019  04:52:43 +0000 (0:00:03.295)       0:04:15.645 ***** 
2019-12-26 04:52:43,957 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2019-12-26 04:52:44,017 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ************************************************************************************************************************************
2019-12-26 04:52:44,017 p=1 u=root |  Thursday 26 December 2019  04:52:44 +0000 (0:00:00.696)       0:04:16.341 ***** 
2019-12-26 04:52:44,388 p=1 u=root |  changed: [server]
2019-12-26 04:52:44,445 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***********************************************************************************************************************************
2019-12-26 04:52:44,446 p=1 u=root |  Thursday 26 December 2019  04:52:44 +0000 (0:00:00.428)       0:04:16.770 ***** 
2019-12-26 04:52:45,276 p=1 u=root |  changed: [server]
2019-12-26 04:52:45,332 p=1 u=root |  TASK [npg_master : copy html to remote] ******************************************************************************************************************************************************
2019-12-26 04:52:45,333 p=1 u=root |  Thursday 26 December 2019  04:52:45 +0000 (0:00:00.886)       0:04:17.657 ***** 
2019-12-26 04:52:46,832 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2019-12-26 04:52:47,324 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2019-12-26 04:52:48,011 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2019-12-26 04:52:48,070 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] ***************************************************************************************************************************************
2019-12-26 04:52:48,070 p=1 u=root |  Thursday 26 December 2019  04:52:48 +0000 (0:00:02.737)       0:04:20.394 ***** 
2019-12-26 04:52:48,699 p=1 u=root |  ok: [server]
2019-12-26 04:52:48,755 p=1 u=root |  TASK [npg_master : create loki storage data dir] *********************************************************************************************************************************************
2019-12-26 04:52:48,755 p=1 u=root |  Thursday 26 December 2019  04:52:48 +0000 (0:00:00.685)       0:04:21.079 ***** 
2019-12-26 04:52:49,138 p=1 u=root |  ok: [server]
2019-12-26 04:52:49,196 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] ******************************************************************************************************************************************
2019-12-26 04:52:49,196 p=1 u=root |  Thursday 26 December 2019  04:52:49 +0000 (0:00:00.440)       0:04:21.520 ***** 
2019-12-26 04:52:49,591 p=1 u=root |  changed: [server]
2019-12-26 04:52:49,664 p=1 u=root |  TASK [npg_master : Start and enable npg service] *********************************************************************************************************************************************
2019-12-26 04:52:49,664 p=1 u=root |  Thursday 26 December 2019  04:52:49 +0000 (0:00:00.467)       0:04:21.988 ***** 
2019-12-26 04:52:52,314 p=1 u=root |  changed: [server]
2019-12-26 04:52:52,372 p=1 u=root |  TASK [npg_master : restart npg service] ******************************************************************************************************************************************************
2019-12-26 04:52:52,373 p=1 u=root |  Thursday 26 December 2019  04:52:52 +0000 (0:00:02.708)       0:04:24.697 ***** 
2019-12-26 04:52:52,901 p=1 u=root |  changed: [server] => (item=npg)
2019-12-26 04:52:52,963 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *********************************************************************************************************************************************
2019-12-26 04:52:52,963 p=1 u=root |  Thursday 26 December 2019  04:52:52 +0000 (0:00:00.590)       0:04:25.287 ***** 
2019-12-26 04:52:53,353 p=1 u=root |  changed: [server]
2019-12-26 04:52:53,411 p=1 u=root |  TASK [npg_master : copy external npg stack items] ********************************************************************************************************************************************
2019-12-26 04:52:53,412 p=1 u=root |  Thursday 26 December 2019  04:52:53 +0000 (0:00:00.447)       0:04:25.735 ***** 
2019-12-26 04:52:54,135 p=1 u=root |  changed: [server] => (item=files/nodeexporter.service)
2019-12-26 04:52:54,605 p=1 u=root |  changed: [server] => (item=files/docker-compose.yml.nodeexporter)
2019-12-26 04:52:57,659 p=1 u=root |  changed: [server] => (item=files/npg_stack_images.tar.xz)
2019-12-26 04:52:58,934 p=1 u=root |  changed: [server] => (item=files/docker-compose)
2019-12-26 04:53:01,789 p=1 u=root |  changed: [server] => (item=files/docker-19.03.5.tgz)
2019-12-26 04:53:02,250 p=1 u=root |  changed: [server] => (item=files/docker.service)
2019-12-26 04:53:02,700 p=1 u=root |  changed: [server] => (item=files/netdata.service)
2019-12-26 04:53:02,760 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] ***************************************************************************************************************************
2019-12-26 04:53:02,760 p=1 u=root |  Thursday 26 December 2019  04:53:02 +0000 (0:00:09.348)       0:04:35.084 ***** 
2019-12-26 04:53:03,807 p=1 u=root |  changed: [server]
2019-12-26 04:53:03,866 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] **************************************************************************************************************************
2019-12-26 04:53:03,866 p=1 u=root |  Thursday 26 December 2019  04:53:03 +0000 (0:00:01.105)       0:04:36.190 ***** 
2019-12-26 04:53:04,661 p=1 u=root |  changed: [server]
2019-12-26 04:53:04,721 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **********************************************************************************************************************************
2019-12-26 04:53:04,722 p=1 u=root |  Thursday 26 December 2019  04:53:04 +0000 (0:00:00.855)       0:04:37.046 ***** 
2019-12-26 04:53:05,514 p=1 u=root |  changed: [server]
2019-12-26 04:53:05,574 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *************************************************************************************************************************************************
2019-12-26 04:53:05,575 p=1 u=root |  Thursday 26 December 2019  04:53:05 +0000 (0:00:00.852)       0:04:37.899 ***** 
2019-12-26 04:53:15,002 p=1 u=root |  changed: [server]
2019-12-26 04:53:15,136 p=1 u=root |  TASK [npg_master : Generate npg client configurations] ***************************************************************************************************************************************
2019-12-26 04:53:15,136 p=1 u=root |  Thursday 26 December 2019  04:53:15 +0000 (0:00:09.561)       0:04:47.460 ***** 
2019-12-26 04:53:15,850 p=1 u=root |  changed: [server]
2019-12-26 04:53:15,858 p=1 u=root |  PLAY RECAP ***********************************************************************************************************************************************************************************
2019-12-26 04:53:15,858 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2019-12-26 04:53:15,858 p=1 u=root |  server                     : ok=23   changed=20   unreachable=0    failed=0   
2019-12-26 04:53:15,859 p=1 u=root |  Thursday 26 December 2019  04:53:15 +0000 (0:00:00.722)       0:04:48.183 ***** 
2019-12-26 04:53:15,859 p=1 u=root |  =============================================================================== 
2019-12-26 04:53:15,859 p=1 u=root |  npg_master : Load npg docker images ------------------------------------------------------------------------------------------------------------------------------------------------- 194.89s
2019-12-26 04:53:15,859 p=1 u=root |  Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- 32.12s
2019-12-26 04:53:15,859 p=1 u=root |  npg_master : upload npg images to npg-master ----------------------------------------------------------------------------------------------------------------------------------------- 18.94s
2019-12-26 04:53:15,860 p=1 u=root |  npg_master : Generate npg_stack items ------------------------------------------------------------------------------------------------------------------------------------------------- 9.56s
2019-12-26 04:53:15,860 p=1 u=root |  npg_master : copy external npg stack items -------------------------------------------------------------------------------------------------------------------------------------------- 9.35s
2019-12-26 04:53:15,860 p=1 u=root |  npg_master : upload npg systemd files to npg-master ----------------------------------------------------------------------------------------------------------------------------------- 3.58s
2019-12-26 04:53:15,860 p=1 u=root |  npg_master : copy prometheus.yml to remote -------------------------------------------------------------------------------------------------------------------------------------------- 3.30s
2019-12-26 04:53:15,860 p=1 u=root |  npg_master : copy html to remote ------------------------------------------------------------------------------------------------------------------------------------------------------ 2.74s
2019-12-26 04:53:15,861 p=1 u=root |  npg_master : Start and enable npg service --------------------------------------------------------------------------------------------------------------------------------------------- 2.71s
2019-12-26 04:53:15,861 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master ---------------------------------------------------------------------------------------------------------------------------- 1.30s
2019-12-26 04:53:15,861 p=1 u=root |  npg_master : copy dashboard.js to all node -------------------------------------------------------------------------------------------------------------------------------------------- 1.12s
2019-12-26 04:53:15,861 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack --------------------------------------------------------------------------------------------------------------------------- 1.11s
2019-12-26 04:53:15,861 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master ----------------------------------------------------------------------------------------------------------------------------------- 0.89s
2019-12-26 04:53:15,862 p=1 u=root |  npg_master : copy docker-compose files to external npg stack -------------------------------------------------------------------------------------------------------------------------- 0.86s
2019-12-26 04:53:15,862 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote ---------------------------------------------------------------------------------------------------------------------------------- 0.85s
2019-12-26 04:53:15,862 p=1 u=root |  npg_master : Generate npg client configurations --------------------------------------------------------------------------------------------------------------------------------------- 0.72s
2019-12-26 04:53:15,862 p=1 u=root |  npg_master : upload alert.rules to npg ------------------------------------------------------------------------------------------------------------------------------------------------ 0.70s
2019-12-26 04:53:15,862 p=1 u=root |  npg_master : create prometheus storage data dir --------------------------------------------------------------------------------------------------------------------------------------- 0.69s
2019-12-26 04:53:15,863 p=1 u=root |  npg_master : restart npg service ------------------------------------------------------------------------------------------------------------------------------------------------------ 0.59s
2019-12-26 04:53:15,863 p=1 u=root |  npg_master : Change npg directory priviledge ------------------------------------------------------------------------------------------------------------------------------------------ 0.47s
2020-02-20 12:58:51,317 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 12:58:51,333 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 12:58:51,334 p=1 u=root |  Thursday 20 February 2020  12:58:51 +0000 (0:00:00.202)       0:00:00.202 ***** 
2020-02-20 12:58:51,396 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 12:58:51,408 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 12:58:51,421 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 12:58:51,422 p=1 u=root |  Thursday 20 February 2020  12:58:51 +0000 (0:00:00.087)       0:00:00.290 ***** 
2020-02-20 12:58:52,100 p=1 u=root |  fatal: [server]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to remote host \"192.168.122.239\". Make sure this host can be reached over ssh", "unreachable": true}
2020-02-20 12:58:52,107 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 12:58:52,108 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 12:58:52,108 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 12:58:52,108 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 12:58:52,108 p=1 u=root |  Thursday 20 February 2020  12:58:52 +0000 (0:00:00.686)       0:00:00.977 ***** 
2020-02-20 12:58:52,108 p=1 u=root |  =============================================================================== 
2020-02-20 12:58:52,108 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.69s
2020-02-20 12:58:52,109 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.09s
2020-02-20 13:00:10,913 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:00:10,927 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:00:10,927 p=1 u=root |  Thursday 20 February 2020  13:00:10 +0000 (0:00:00.196)       0:00:00.196 ***** 
2020-02-20 13:00:10,983 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:00:10,995 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:00:11,008 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:00:11,009 p=1 u=root |  Thursday 20 February 2020  13:00:11 +0000 (0:00:00.081)       0:00:00.278 ***** 
2020-02-20 13:00:11,680 p=1 u=root |  fatal: [server]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to remote host \"192.168.122.239\". Make sure this host can be reached over ssh", "unreachable": true}
2020-02-20 13:00:11,682 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:00:11,682 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:00:11,683 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:00:11,683 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:00:11,683 p=1 u=root |  Thursday 20 February 2020  13:00:11 +0000 (0:00:00.674)       0:00:00.952 ***** 
2020-02-20 13:00:11,683 p=1 u=root |  =============================================================================== 
2020-02-20 13:00:11,683 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.67s
2020-02-20 13:00:11,684 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.08s
2020-02-20 13:01:18,508 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:01:18,523 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:01:18,523 p=1 u=root |  Thursday 20 February 2020  13:01:18 +0000 (0:00:00.207)       0:00:00.207 ***** 
2020-02-20 13:01:18,578 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:01:18,590 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:01:18,611 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:01:18,611 p=1 u=root |  Thursday 20 February 2020  13:01:18 +0000 (0:00:00.088)       0:00:00.295 ***** 
2020-02-20 13:01:19,265 p=1 u=root |  fatal: [server]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to remote host \"192.168.122.239\". Make sure this host can be reached over ssh", "unreachable": true}
2020-02-20 13:01:19,270 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:01:19,270 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:01:19,270 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:01:19,270 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:01:19,270 p=1 u=root |  Thursday 20 February 2020  13:01:19 +0000 (0:00:00.659)       0:00:00.955 ***** 
2020-02-20 13:01:19,271 p=1 u=root |  =============================================================================== 
2020-02-20 13:01:19,271 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.66s
2020-02-20 13:01:19,271 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.09s
2020-02-20 13:13:42,053 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:13:42,070 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:13:42,070 p=1 u=root |  Thursday 20 February 2020  13:13:42 +0000 (0:00:00.246)       0:00:00.246 ***** 
2020-02-20 13:13:42,133 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:13:42,146 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:13:42,162 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:13:42,162 p=1 u=root |  Thursday 20 February 2020  13:13:42 +0000 (0:00:00.092)       0:00:00.338 ***** 
2020-02-20 13:13:42,889 p=1 u=root |  fatal: [server]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to remote host \"192.168.122.239\". Make sure this host can be reached over ssh", "unreachable": true}
2020-02-20 13:13:42,891 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:13:42,891 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:13:42,892 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:13:42,892 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:13:42,892 p=1 u=root |  Thursday 20 February 2020  13:13:42 +0000 (0:00:00.729)       0:00:01.068 ***** 
2020-02-20 13:13:42,892 p=1 u=root |  =============================================================================== 
2020-02-20 13:13:42,893 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.73s
2020-02-20 13:13:42,893 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.09s
2020-02-20 13:21:11,644 p=1 u=root |  ansible-playbook 2.7.9
  config file = /app/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.6/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 3.6.8 (default, Apr  8 2019, 18:17:52) [GCC 8.3.0]
2020-02-20 13:21:11,644 p=1 u=root |  Using /app/ansible.cfg as config file
2020-02-20 13:21:11,644 p=1 u=root |  setting up inventory plugins
2020-02-20 13:21:11,690 p=1 u=root |  /app/hosts.ini did not meet host_list requirements, check plugin documentation if this is unexpected
2020-02-20 13:21:11,690 p=1 u=root |  /app/hosts.ini did not meet script requirements, check plugin documentation if this is unexpected
2020-02-20 13:21:11,691 p=1 u=root |  /app/hosts.ini did not meet yaml requirements, check plugin documentation if this is unexpected
2020-02-20 13:21:11,695 p=1 u=root |  Parsed /app/hosts.ini inventory source with ini plugin
2020-02-20 13:21:11,959 p=1 u=root |  Loading callback plugin skippy of type stdout, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/skippy.py
2020-02-20 13:21:12,324 p=1 u=root |  Loading callback plugin profile_tasks of type aggregate, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/profile_tasks.py
2020-02-20 13:21:12,445 p=1 u=root |  PLAYBOOK: npgmaster.yml **************************************************************************************************************************************
2020-02-20 13:21:12,445 p=1 u=root |  2 plays in ./npgmaster.yml
2020-02-20 13:21:12,503 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:21:12,506 p=1 u=root |  META: ran handlers
2020-02-20 13:21:12,519 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:21:12,519 p=1 u=root |  task path: /app/npgmaster.yml:6
2020-02-20 13:21:12,519 p=1 u=root |  Thursday 20 February 2020  13:21:12 +0000 (0:00:00.204)       0:00:00.204 ***** 
2020-02-20 13:21:12,572 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:21:12,573 p=1 u=root |  META: ran handlers
2020-02-20 13:21:12,573 p=1 u=root |  META: ran handlers
2020-02-20 13:21:12,582 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:21:12,595 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:21:12,595 p=1 u=root |  task path: /app/npgmaster.yml:16
2020-02-20 13:21:12,595 p=1 u=root |  Thursday 20 February 2020  13:21:12 +0000 (0:00:00.075)       0:00:00.280 ***** 
2020-02-20 13:21:13,180 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/system/setup.py
2020-02-20 13:21:13,262 p=1 u=root |  fatal: [server]: UNREACHABLE! => {
    "changed": false,
    "msg": "SSH Error: data could not be sent to remote host \"192.168.122.239\". Make sure this host can be reached over ssh",
    "unreachable": true
}
2020-02-20 13:21:13,264 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:21:13,265 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:21:13,265 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:21:13,265 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:21:13,265 p=1 u=root |  Thursday 20 February 2020  13:21:13 +0000 (0:00:00.669)       0:00:00.950 ***** 
2020-02-20 13:21:13,265 p=1 u=root |  =============================================================================== 
2020-02-20 13:21:13,266 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.67s
/app/npgmaster.yml:16 ---------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:21:13,266 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.08s
/app/npgmaster.yml:6 ----------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:25:49,115 p=1 u=root |  ansible-playbook 2.7.9
  config file = /app/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.6/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 3.6.8 (default, Apr  8 2019, 18:17:52) [GCC 8.3.0]
2020-02-20 13:25:49,116 p=1 u=root |  Using /app/ansible.cfg as config file
2020-02-20 13:25:49,116 p=1 u=root |  setting up inventory plugins
2020-02-20 13:25:49,156 p=1 u=root |  /app/hosts.ini did not meet host_list requirements, check plugin documentation if this is unexpected
2020-02-20 13:25:49,156 p=1 u=root |  /app/hosts.ini did not meet script requirements, check plugin documentation if this is unexpected
2020-02-20 13:25:49,157 p=1 u=root |  /app/hosts.ini did not meet yaml requirements, check plugin documentation if this is unexpected
2020-02-20 13:25:49,161 p=1 u=root |  Parsed /app/hosts.ini inventory source with ini plugin
2020-02-20 13:25:49,426 p=1 u=root |  Loading callback plugin skippy of type stdout, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/skippy.py
2020-02-20 13:25:49,786 p=1 u=root |  Loading callback plugin profile_tasks of type aggregate, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/profile_tasks.py
2020-02-20 13:25:49,905 p=1 u=root |  PLAYBOOK: npgmaster.yml **************************************************************************************************************************************
2020-02-20 13:25:49,905 p=1 u=root |  2 plays in ./npgmaster.yml
2020-02-20 13:25:49,961 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:25:49,964 p=1 u=root |  META: ran handlers
2020-02-20 13:25:49,976 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:25:49,977 p=1 u=root |  task path: /app/npgmaster.yml:6
2020-02-20 13:25:49,977 p=1 u=root |  Thursday 20 February 2020  13:25:49 +0000 (0:00:00.200)       0:00:00.200 ***** 
2020-02-20 13:25:50,030 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:25:50,031 p=1 u=root |  META: ran handlers
2020-02-20 13:25:50,032 p=1 u=root |  META: ran handlers
2020-02-20 13:25:50,040 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:25:50,053 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:25:50,053 p=1 u=root |  task path: /app/npgmaster.yml:16
2020-02-20 13:25:50,053 p=1 u=root |  Thursday 20 February 2020  13:25:50 +0000 (0:00:00.076)       0:00:00.276 ***** 
2020-02-20 13:25:50,281 p=1 u=root |  fatal: [server]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, OpenSSL 1.1.1b  26 Feb 2019\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug2: resolve_canonicalize: hostname 192.168.122.239 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/root/.ansible/cp/aabcf9b44f\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 192.168.122.239 [192.168.122.239] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: fd 3 clearing O_NONBLOCK\r\ndebug1: Connection established.\r\ndebug3: timeout: 9991 ms remain after connect\r\ndebug1: identity file ./deploy.key type -1\r\ndebug1: identity file ./deploy.key-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_7.9\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\r\ndebug1: match: OpenSSH_7.4 pat OpenSSH_7.0*,OpenSSH_7.1*,OpenSSH_7.2*,OpenSSH_7.3*,OpenSSH_7.4*,OpenSSH_7.5*,OpenSSH_7.6*,OpenSSH_7.7* compat 0x04000002\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to 192.168.122.239:22 as 'root'\r\ndebug3: hostkeys_foreach: reading file \"/dev/null\"\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\r\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,aes192-cbc,aes256-cbc,blowfish-cbc,cast128-cbc,3des-cbc\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,aes192-cbc,aes256-cbc,blowfish-cbc,cast128-cbc,3des-cbc\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\r\ndebug1: kex: server->client cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\r\ndebug1: kex: client->server cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:gTWmQ+ry0jNjqYaGnX1WysLLmX37E4PasIbhvGH9nMs\r\ndebug3: hostkeys_foreach: reading file \"/dev/null\"\r\nWarning: Permanently added '192.168.122.239' (ECDSA) to the list of known hosts.\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey after 134217728 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey after 134217728 blocks\r\ndebug1: Will attempt key: ./deploy.key  explicit\r\ndebug2: pubkey_prepare: done\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=<rsa-sha2-256,rsa-sha2-512>\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey,password\r\ndebug3: start over, passed a different list publickey,password\r\ndebug3: preferred gssapi-with-mic,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: ,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug1: Trying private key: ./deploy.key\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\nPermissions 0644 for './deploy.key' are too open.\r\nIt is required that your private key files are NOT accessible by others.\r\nThis private key will be ignored.\r\nLoad key \"./deploy.key\": bad permissions\r\ndebug2: we did not send a packet, disable method\r\ndebug1: No more authentication methods to try.\r\nroot@192.168.122.239: Permission denied (publickey,password).",
    "unreachable": true
}
2020-02-20 13:25:50,283 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:25:50,283 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:25:50,283 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:25:50,283 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:25:50,283 p=1 u=root |  Thursday 20 February 2020  13:25:50 +0000 (0:00:00.230)       0:00:00.506 ***** 
2020-02-20 13:25:50,284 p=1 u=root |  =============================================================================== 
2020-02-20 13:25:50,284 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.23s
/app/npgmaster.yml:16 ---------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:25:50,284 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.08s
/app/npgmaster.yml:6 ----------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:26:30,644 p=1 u=root |  ansible-playbook 2.7.9
  config file = /app/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.6/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 3.6.8 (default, Apr  8 2019, 18:17:52) [GCC 8.3.0]
2020-02-20 13:26:30,645 p=1 u=root |  Using /app/ansible.cfg as config file
2020-02-20 13:26:30,645 p=1 u=root |  setting up inventory plugins
2020-02-20 13:26:30,685 p=1 u=root |  /app/hosts.ini did not meet host_list requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:30,685 p=1 u=root |  /app/hosts.ini did not meet script requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:30,686 p=1 u=root |  /app/hosts.ini did not meet yaml requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:30,690 p=1 u=root |  Parsed /app/hosts.ini inventory source with ini plugin
2020-02-20 13:26:30,955 p=1 u=root |  Loading callback plugin skippy of type stdout, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/skippy.py
2020-02-20 13:26:31,329 p=1 u=root |  Loading callback plugin profile_tasks of type aggregate, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/profile_tasks.py
2020-02-20 13:26:31,452 p=1 u=root |  PLAYBOOK: npgmaster.yml **************************************************************************************************************************************
2020-02-20 13:26:31,452 p=1 u=root |  2 plays in ./npgmaster.yml
2020-02-20 13:26:31,508 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:26:31,511 p=1 u=root |  META: ran handlers
2020-02-20 13:26:31,523 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:26:31,523 p=1 u=root |  task path: /app/npgmaster.yml:6
2020-02-20 13:26:31,523 p=1 u=root |  Thursday 20 February 2020  13:26:31 +0000 (0:00:00.204)       0:00:00.204 ***** 
2020-02-20 13:26:31,576 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:26:31,578 p=1 u=root |  META: ran handlers
2020-02-20 13:26:31,579 p=1 u=root |  META: ran handlers
2020-02-20 13:26:31,589 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:26:31,601 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:26:31,602 p=1 u=root |  task path: /app/npgmaster.yml:16
2020-02-20 13:26:31,602 p=1 u=root |  Thursday 20 February 2020  13:26:31 +0000 (0:00:00.078)       0:00:00.283 ***** 
2020-02-20 13:26:31,801 p=1 u=root |  fatal: [server]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, OpenSSL 1.1.1b  26 Feb 2019\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug2: resolve_canonicalize: hostname 192.168.122.239 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/root/.ansible/cp/aabcf9b44f\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 192.168.122.239 [192.168.122.239] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: fd 3 clearing O_NONBLOCK\r\ndebug1: Connection established.\r\ndebug3: timeout: 9992 ms remain after connect\r\ndebug1: identity file ./deploy.key type -1\r\ndebug1: identity file ./deploy.key-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_7.9\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\r\ndebug1: match: OpenSSH_7.4 pat OpenSSH_7.0*,OpenSSH_7.1*,OpenSSH_7.2*,OpenSSH_7.3*,OpenSSH_7.4*,OpenSSH_7.5*,OpenSSH_7.6*,OpenSSH_7.7* compat 0x04000002\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to 192.168.122.239:22 as 'root'\r\ndebug3: hostkeys_foreach: reading file \"/dev/null\"\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\r\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,aes192-cbc,aes256-cbc,blowfish-cbc,cast128-cbc,3des-cbc\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc,aes192-cbc,aes256-cbc,blowfish-cbc,cast128-cbc,3des-cbc\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\r\ndebug1: kex: server->client cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\r\ndebug1: kex: client->server cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:gTWmQ+ry0jNjqYaGnX1WysLLmX37E4PasIbhvGH9nMs\r\ndebug3: hostkeys_foreach: reading file \"/dev/null\"\r\nWarning: Permanently added '192.168.122.239' (ECDSA) to the list of known hosts.\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey after 134217728 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey after 134217728 blocks\r\ndebug1: Will attempt key: ./deploy.key  explicit\r\ndebug2: pubkey_prepare: done\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=<rsa-sha2-256,rsa-sha2-512>\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey,password\r\ndebug3: start over, passed a different list publickey,password\r\ndebug3: preferred gssapi-with-mic,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: ,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug1: Trying private key: ./deploy.key\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\nPermissions 0440 for './deploy.key' are too open.\r\nIt is required that your private key files are NOT accessible by others.\r\nThis private key will be ignored.\r\nLoad key \"./deploy.key\": bad permissions\r\ndebug2: we did not send a packet, disable method\r\ndebug1: No more authentication methods to try.\r\nroot@192.168.122.239: Permission denied (publickey,password).",
    "unreachable": true
}
2020-02-20 13:26:31,803 p=1 u=root |  	to retry, use: --limit @/app/npgmaster.retry

2020-02-20 13:26:31,804 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:26:31,804 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:26:31,804 p=1 u=root |  server                     : ok=0    changed=0    unreachable=1    failed=0   
2020-02-20 13:26:31,804 p=1 u=root |  Thursday 20 February 2020  13:26:31 +0000 (0:00:00.202)       0:00:00.485 ***** 
2020-02-20 13:26:31,805 p=1 u=root |  =============================================================================== 
2020-02-20 13:26:31,805 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 0.20s
/app/npgmaster.yml:16 ---------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:26:31,805 p=1 u=root |  Check ansible version >=2.7.8 ------------------------------------------------------------------------------------------------------------------------- 0.08s
/app/npgmaster.yml:6 ----------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:26:55,825 p=1 u=root |  ansible-playbook 2.7.9
  config file = /app/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.6/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 3.6.8 (default, Apr  8 2019, 18:17:52) [GCC 8.3.0]
2020-02-20 13:26:55,825 p=1 u=root |  Using /app/ansible.cfg as config file
2020-02-20 13:26:55,826 p=1 u=root |  setting up inventory plugins
2020-02-20 13:26:55,868 p=1 u=root |  /app/hosts.ini did not meet host_list requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:55,869 p=1 u=root |  /app/hosts.ini did not meet script requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:55,869 p=1 u=root |  /app/hosts.ini did not meet yaml requirements, check plugin documentation if this is unexpected
2020-02-20 13:26:55,873 p=1 u=root |  Parsed /app/hosts.ini inventory source with ini plugin
2020-02-20 13:26:56,130 p=1 u=root |  Loading callback plugin skippy of type stdout, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/skippy.py
2020-02-20 13:26:56,503 p=1 u=root |  Loading callback plugin profile_tasks of type aggregate, v2.0 from /usr/lib/python3.6/site-packages/ansible/plugins/callback/profile_tasks.py
2020-02-20 13:26:56,624 p=1 u=root |  PLAYBOOK: npgmaster.yml **************************************************************************************************************************************
2020-02-20 13:26:56,624 p=1 u=root |  2 plays in ./npgmaster.yml
2020-02-20 13:26:56,680 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-20 13:26:56,683 p=1 u=root |  META: ran handlers
2020-02-20 13:26:56,695 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-20 13:26:56,696 p=1 u=root |  task path: /app/npgmaster.yml:6
2020-02-20 13:26:56,696 p=1 u=root |  Thursday 20 February 2020  13:26:56 +0000 (0:00:00.203)       0:00:00.203 ***** 
2020-02-20 13:26:56,749 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-20 13:26:56,750 p=1 u=root |  META: ran handlers
2020-02-20 13:26:56,750 p=1 u=root |  META: ran handlers
2020-02-20 13:26:56,759 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-20 13:26:56,773 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-20 13:26:56,773 p=1 u=root |  task path: /app/npgmaster.yml:16
2020-02-20 13:26:56,773 p=1 u=root |  Thursday 20 February 2020  13:26:56 +0000 (0:00:00.077)       0:00:00.280 ***** 
2020-02-20 13:26:58,579 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/system/setup.py
2020-02-20 13:26:59,312 p=1 u=root |  ok: [server]
2020-02-20 13:26:59,315 p=1 u=root |  META: ran handlers
2020-02-20 13:26:59,355 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] **********************************************************************************************************
2020-02-20 13:26:59,355 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:2
2020-02-20 13:26:59,356 p=1 u=root |  Thursday 20 February 2020  13:26:59 +0000 (0:00:02.582)       0:00:02.863 ***** 
2020-02-20 13:26:59,724 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:26:59,897 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:01,657 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:02,263 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz) => {
    "changed": true,
    "checksum": "cc130b1ff93bab41e8e3be5f5ae560471ee7acdb",
    "dest": "/tmp/npg_master.tar.xz",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "npg_master.tar.xz",
            "attributes": null,
            "backup": false,
            "checksum": "cc130b1ff93bab41e8e3be5f5ae560471ee7acdb",
            "content": null,
            "delimiter": null,
            "dest": "/tmp/npg_master.tar.xz",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205219.4922066-128610426657539/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/npg_master.tar.xz",
    "md5sum": "98a260365e2ed4f817962b892dcd0fb9",
    "mode": "0777",
    "owner": "root",
    "size": 117065788,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205219.4922066-128610426657539/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:02,298 p=1 u=root |  TASK [npg_master : Load npg docker images] *******************************************************************************************************************
2020-02-20 13:27:02,298 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:12
2020-02-20 13:27:02,298 p=1 u=root |  Thursday 20 February 2020  13:27:02 +0000 (0:00:02.942)       0:00:05.805 ***** 
2020-02-20 13:27:02,643 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:27:31,255 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "cd /tmp && docker load<npg_master.tar.xz && rm -f /tmp/npg_master.tar.xz",
    "delta": "0:00:28.439034",
    "end": "2020-02-20 08:27:31.218665",
    "invocation": {
        "module_args": {
            "_raw_params": "cd /tmp && docker load<npg_master.tar.xz && rm -f /tmp/npg_master.tar.xz",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:27:02.779631",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Loaded image: grafana/loki:latest\nLoaded image: prom/prometheus:latest\nLoaded image: grafana/grafana:latest",
    "stdout_lines": [
        "Loaded image: grafana/loki:latest",
        "Loaded image: prom/prometheus:latest",
        "Loaded image: grafana/grafana:latest"
    ]
}
2020-02-20 13:27:31,292 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***************************************************************************************************
2020-02-20 13:27:31,293 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:15
2020-02-20 13:27:31,293 p=1 u=root |  Thursday 20 February 2020  13:27:31 +0000 (0:00:28.994)       0:00:34.800 ***** 
2020-02-20 13:27:31,517 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:31,682 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:31,874 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:32,050 p=1 u=root |  changed: [server] => (item=files/npg.service) => {
    "changed": true,
    "checksum": "774e598d635f1fa66b13542b8661c37789d82dce",
    "dest": "/etc/systemd/system/npg.service",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "npg.service",
            "attributes": null,
            "backup": false,
            "checksum": "774e598d635f1fa66b13542b8661c37789d82dce",
            "content": null,
            "delimiter": null,
            "dest": "/etc/systemd/system/npg.service",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205251.4644675-120372620977463/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/npg.service",
    "md5sum": "659b58a409f2b983c273a0fcea932bce",
    "mode": "0777",
    "owner": "root",
    "size": 459,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205251.4644675-120372620977463/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:32,087 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ********************************************************************************************
2020-02-20 13:27:32,088 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:25
2020-02-20 13:27:32,088 p=1 u=root |  Thursday 20 February 2020  13:27:32 +0000 (0:00:00.795)       0:00:35.595 ***** 
2020-02-20 13:27:32,291 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:32,702 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/unarchive.py
2020-02-20 13:27:35,232 p=1 u=root |  changed: [server] => {
    "changed": true,
    "dest": "/usr/local/",
    "extract_results": {
        "cmd": [
            "/usr/bin/gtar",
            "--extract",
            "-C",
            "/usr/local/",
            "-z",
            "--owner=root",
            "--group=root",
            "-f",
            "/root/.ansible/tmp/ansible-tmp-1582205252.2415202-249019319513787/source"
        ],
        "err": "",
        "out": "",
        "rc": 0
    },
    "gid": 0,
    "group": "root",
    "handler": "TgzArchive",
    "invocation": {
        "module_args": {
            "attributes": null,
            "backup": null,
            "content": null,
            "creates": null,
            "delimiter": null,
            "dest": "/usr/local/",
            "directory_mode": null,
            "exclude": [],
            "extra_opts": [],
            "follow": false,
            "force": null,
            "group": "root",
            "keep_newer": false,
            "list_files": false,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205252.2415202-249019319513787/source",
            "unsafe_writes": null,
            "validate_certs": true
        }
    },
    "mode": "0755",
    "owner": "root",
    "size": 142,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205252.2415202-249019319513787/source",
    "state": "directory",
    "uid": 0
}
2020-02-20 13:27:35,266 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ************************************************************************************************************
2020-02-20 13:27:35,266 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:33
2020-02-20 13:27:35,266 p=1 u=root |  Thursday 20 February 2020  13:27:35 +0000 (0:00:03.178)       0:00:38.773 ***** 
2020-02-20 13:27:35,475 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:36,442 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:36,624 p=1 u=root |  changed: [server] => (item=files/dashboard.js) => {
    "changed": true,
    "checksum": "583533bca544953a917bed623f6db05642186aca",
    "dest": "/usr/local/npg/dashboard.js",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "dashboard.js",
            "attributes": null,
            "backup": false,
            "checksum": "583533bca544953a917bed623f6db05642186aca",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/dashboard.js",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205255.4321892-108860083248645/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/dashboard.js",
    "md5sum": "97e7e08ceb9c43baa4a10bd31c4f0eb7",
    "mode": "0777",
    "owner": "root",
    "size": 382699,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205255.4321892-108860083248645/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:36,703 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:36,903 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:37,085 p=1 u=root |  changed: [server] => (item=files/uninstall_monitor.sh) => {
    "changed": true,
    "checksum": "b6b942487b57a4ffda6230db8e0f6541cf066ebd",
    "dest": "/usr/local/npg/uninstall_monitor.sh",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "uninstall_monitor.sh",
            "attributes": null,
            "backup": false,
            "checksum": "b6b942487b57a4ffda6230db8e0f6541cf066ebd",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/uninstall_monitor.sh",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205256.6271431-111223751859441/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/uninstall_monitor.sh",
    "md5sum": "872ffd29eb61241c63842da057b0e334",
    "mode": "0777",
    "owner": "root",
    "size": 425,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205256.6271431-111223751859441/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:37,123 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ************************************************************************************************************
2020-02-20 13:27:37,123 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:44
2020-02-20 13:27:37,123 p=1 u=root |  Thursday 20 February 2020  13:27:37 +0000 (0:00:01.857)       0:00:40.630 ***** 
2020-02-20 13:27:37,567 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:37,763 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:37,949 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'}) => {
    "changed": true,
    "checksum": "1c2733713883d464be60ddade639291fe5b84990",
    "dest": "/usr/local/npg/prometheus/prometheus.yml",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "prometheus.yml.j2",
            "attributes": null,
            "backup": false,
            "checksum": "1c2733713883d464be60ddade639291fe5b84990",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/prometheus/prometheus.yml",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205257.3127704-44954067331519/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/prometheus/prometheus.yml",
        "src": "prometheus.yml.j2"
    },
    "md5sum": "0ff84d56c71a70ca686588f402c815df",
    "mode": "0777",
    "owner": "root",
    "size": 2261,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205257.3127704-44954067331519/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:38,028 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:38,225 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:38,403 p=1 u=root |  changed: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'}) => {
    "changed": true,
    "checksum": "c4693edbb6c8762b1a0a9fb34bc7dfd525a4c5aa",
    "dest": "/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "loki-stack-datasource.yml.j2",
            "attributes": null,
            "backup": false,
            "checksum": "c4693edbb6c8762b1a0a9fb34bc7dfd525a4c5aa",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205257.9456885-38783454440897/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml",
        "src": "loki-stack-datasource.yml.j2"
    },
    "md5sum": "5d61b713b76456b1b3e784012ef4071b",
    "mode": "0644",
    "owner": "root",
    "size": 119,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205257.9456885-38783454440897/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:38,463 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:38,668 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:38,848 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'}) => {
    "changed": true,
    "checksum": "ee887f9013833265f28728e03b51779f3ec2d8d4",
    "dest": "/usr/local/npg/docker-compose.yml",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker-compose.yml.j2",
            "attributes": null,
            "backup": false,
            "checksum": "ee887f9013833265f28728e03b51779f3ec2d8d4",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/docker-compose.yml",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205258.4099545-131599546747181/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/docker-compose.yml",
        "src": "docker-compose.yml.j2"
    },
    "md5sum": "d61d2b59212f5532154e429cf83ce35b",
    "mode": "0777",
    "owner": "root",
    "size": 3763,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205258.4099545-131599546747181/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:38,905 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:39,110 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:39,277 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'}) => {
    "changed": true,
    "checksum": "2391bc7c1c8b388cc05134495a020f9a7854b3f3",
    "dest": "/usr/local/npg/alertmanager/config.yml",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "config.yml.j2",
            "attributes": null,
            "backup": false,
            "checksum": "2391bc7c1c8b388cc05134495a020f9a7854b3f3",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/alertmanager/config.yml",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205258.8516147-107213909109211/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/alertmanager/config.yml",
        "src": "config.yml.j2"
    },
    "md5sum": "97ab58b466ec18d321162fa33f07837c",
    "mode": "0777",
    "owner": "root",
    "size": 488,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205258.8516147-107213909109211/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:39,401 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:39,606 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:39,775 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'}) => {
    "changed": true,
    "checksum": "a3ff003b60b0d2c10923f12f8b77fba7157358c9",
    "dest": "/usr/local/npg/grafana/grafana.ini",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "grafana.ini.j2",
            "attributes": null,
            "backup": false,
            "checksum": "a3ff003b60b0d2c10923f12f8b77fba7157358c9",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/grafana/grafana.ini",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205259.281821-139158663027034/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/grafana/grafana.ini",
        "src": "grafana.ini.j2"
    },
    "md5sum": "cbab8deda06cb8fba431fa2b7b773458",
    "mode": "0777",
    "owner": "root",
    "size": 13778,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205259.281821-139158663027034/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:39,965 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:40,154 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:40,335 p=1 u=root |  changed: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'}) => {
    "changed": true,
    "checksum": "9a8553fe99a0108e36a466886f71b515dc32a742",
    "dest": "/usr/local/npg/health_alarm_notify.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "health_alarm_notify.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "9a8553fe99a0108e36a466886f71b515dc32a742",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/health_alarm_notify.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205259.7827253-221859036588739/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/health_alarm_notify.conf",
        "src": "health_alarm_notify.conf.j2"
    },
    "md5sum": "8f10ce1752238d49c17be24b8ad33454",
    "mode": "0644",
    "owner": "root",
    "size": 40725,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205259.7827253-221859036588739/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:40,371 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ****************************************************************************************************************
2020-02-20 13:27:40,371 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:58
2020-02-20 13:27:40,371 p=1 u=root |  Thursday 20 February 2020  13:27:40 +0000 (0:00:03.248)       0:00:43.878 ***** 
2020-02-20 13:27:40,583 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:40,785 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:40,960 p=1 u=root |  changed: [server] => (item=files/alert.rules) => {
    "changed": true,
    "checksum": "a8efd835333f7fd409ef72c85fe353f0ca765dc6",
    "dest": "/usr/local/npg/prometheus/alert.rules",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "alert.rules",
            "attributes": null,
            "backup": false,
            "checksum": "a8efd835333f7fd409ef72c85fe353f0ca765dc6",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/prometheus/alert.rules",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205260.5361853-118997422952231/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/alert.rules",
    "md5sum": "76c7a27cdd75cf2bb826238e47624978",
    "mode": "0777",
    "owner": "root",
    "size": 8868,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205260.5361853-118997422952231/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:40,996 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ****************************************************************************************************
2020-02-20 13:27:40,996 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:68
2020-02-20 13:27:40,997 p=1 u=root |  Thursday 20 February 2020  13:27:40 +0000 (0:00:00.625)       0:00:44.504 ***** 
2020-02-20 13:27:41,198 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:27:41,375 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "mkdir -p /usr/local/npg/static/ajax",
    "delta": "0:00:00.004453",
    "end": "2020-02-20 08:27:41.339274",
    "invocation": {
        "module_args": {
            "_raw_params": "mkdir -p /usr/local/npg/static/ajax",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:27:41.334821",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "",
    "stdout_lines": []
}
2020-02-20 13:27:41,409 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***************************************************************************************************
2020-02-20 13:27:41,409 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:71
2020-02-20 13:27:41,409 p=1 u=root |  Thursday 20 February 2020  13:27:41 +0000 (0:00:00.412)       0:00:44.916 ***** 
2020-02-20 13:27:41,605 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:41,810 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/unarchive.py
2020-02-20 13:27:42,085 p=1 u=root |  changed: [server] => {
    "changed": true,
    "dest": "/usr/local/npg/static/",
    "extract_results": {
        "cmd": [
            "/usr/bin/gtar",
            "--extract",
            "-C",
            "/usr/local/npg/static/",
            "-z",
            "--owner=root",
            "--group=root",
            "-f",
            "/root/.ansible/tmp/ansible-tmp-1582205261.565774-7649730132054/source"
        ],
        "err": "",
        "out": "",
        "rc": 0
    },
    "gid": 0,
    "group": "root",
    "handler": "TgzArchive",
    "invocation": {
        "module_args": {
            "attributes": null,
            "backup": null,
            "content": null,
            "creates": null,
            "delimiter": null,
            "dest": "/usr/local/npg/static/",
            "directory_mode": null,
            "exclude": [],
            "extra_opts": [],
            "follow": false,
            "force": null,
            "group": "root",
            "keep_newer": false,
            "list_files": false,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205261.565774-7649730132054/source",
            "unsafe_writes": null,
            "validate_certs": true
        }
    },
    "mode": "0755",
    "owner": "root",
    "size": 85,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205261.565774-7649730132054/source",
    "state": "directory",
    "uid": 0
}
2020-02-20 13:27:42,121 p=1 u=root |  TASK [npg_master : copy html to remote] **********************************************************************************************************************
2020-02-20 13:27:42,122 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:79
2020-02-20 13:27:42,122 p=1 u=root |  Thursday 20 February 2020  13:27:42 +0000 (0:00:00.712)       0:00:45.629 ***** 
2020-02-20 13:27:42,744 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:42,945 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:43,136 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'}) => {
    "changed": true,
    "checksum": "f2d85dfaac302d1b4afb0657dfdf21e490cbc29d",
    "dest": "/usr/local/npg/static/ajax/content0.html",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "content0.html.j2",
            "attributes": null,
            "backup": false,
            "checksum": "f2d85dfaac302d1b4afb0657dfdf21e490cbc29d",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/static/ajax/content0.html",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205262.289133-121527731405830/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/static/ajax/content0.html",
        "src": "ajax/content0.html.j2"
    },
    "md5sum": "0d99f4e2f52cc1d9d527a9291a136e80",
    "mode": "0777",
    "owner": "root",
    "size": 25246,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205262.289133-121527731405830/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:43,238 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:43,449 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:43,636 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'}) => {
    "changed": true,
    "checksum": "baaab0f48a1725df21cb41727bbae2c0b369afc2",
    "dest": "/usr/local/npg/static/ajax/content1.html",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "content1.html.j2",
            "attributes": null,
            "backup": false,
            "checksum": "baaab0f48a1725df21cb41727bbae2c0b369afc2",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/static/ajax/content1.html",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205263.1386743-125198111242908/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/static/ajax/content1.html",
        "src": "ajax/content1.html.j2"
    },
    "md5sum": "0fe6d1d1a7a66ac3b976bdd30c8f167c",
    "mode": "0777",
    "owner": "root",
    "size": 353,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205263.1386743-125198111242908/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:43,808 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:44,018 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:44,201 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'}) => {
    "changed": true,
    "checksum": "40387fff6e181fd765206fa3b6d7f8722fe7e549",
    "dest": "/usr/local/npg/static/ajax/content4.html",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "content4.html.j2",
            "attributes": null,
            "backup": false,
            "checksum": "40387fff6e181fd765206fa3b6d7f8722fe7e549",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg/static/ajax/content4.html",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205263.6364312-214365997774388/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": {
        "dest": "/usr/local/npg/static/ajax/content4.html",
        "src": "ajax/content4.html.j2"
    },
    "md5sum": "c60737a2d6068a1b770ad960eb537949",
    "mode": "0777",
    "owner": "root",
    "size": 1109,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205263.6364312-214365997774388/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:44,236 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] *******************************************************************************************************
2020-02-20 13:27:44,236 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:90
2020-02-20 13:27:44,236 p=1 u=root |  Thursday 20 February 2020  13:27:44 +0000 (0:00:02.114)       0:00:47.743 ***** 
2020-02-20 13:27:44,605 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/file.py
2020-02-20 13:27:44,777 p=1 u=root |  ok: [server] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/usr/local/npg/prometheus_data"
        },
        "before": {
            "path": "/usr/local/npg/prometheus_data"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "backup": null,
            "content": null,
            "delimiter": null,
            "directory_mode": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": 511,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/usr/local/npg/prometheus_data",
            "recurse": false,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": null
        }
    },
    "mode": "0777",
    "owner": "root",
    "path": "/usr/local/npg/prometheus_data",
    "size": 6,
    "state": "directory",
    "uid": 0
}
2020-02-20 13:27:44,813 p=1 u=root |  TASK [npg_master : create loki storage data dir] *************************************************************************************************************
2020-02-20 13:27:44,813 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:96
2020-02-20 13:27:44,813 p=1 u=root |  Thursday 20 February 2020  13:27:44 +0000 (0:00:00.576)       0:00:48.320 ***** 
2020-02-20 13:27:45,020 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/file.py
2020-02-20 13:27:45,200 p=1 u=root |  ok: [server] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/usr/local/npg/loki_data"
        },
        "before": {
            "path": "/usr/local/npg/loki_data"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "backup": null,
            "content": null,
            "delimiter": null,
            "directory_mode": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": 511,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/usr/local/npg/loki_data",
            "recurse": false,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": null
        }
    },
    "mode": "0777",
    "owner": "root",
    "path": "/usr/local/npg/loki_data",
    "size": 18,
    "state": "directory",
    "uid": 0
}
2020-02-20 13:27:45,236 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] **********************************************************************************************************
2020-02-20 13:27:45,236 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:102
2020-02-20 13:27:45,236 p=1 u=root |  Thursday 20 February 2020  13:27:45 +0000 (0:00:00.423)       0:00:48.743 ***** 
2020-02-20 13:27:45,440 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:27:45,626 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "cd /usr/local && chmod 777 -R npg",
    "delta": "0:00:00.003808",
    "end": "2020-02-20 08:27:45.587893",
    "invocation": {
        "module_args": {
            "_raw_params": "cd /usr/local && chmod 777 -R npg",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:27:45.584085",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "",
    "stdout_lines": []
}
2020-02-20 13:27:45,787 p=1 u=root |  TASK [npg_master : Start and enable npg service] *************************************************************************************************************
2020-02-20 13:27:45,787 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:105
2020-02-20 13:27:45,787 p=1 u=root |  Thursday 20 February 2020  13:27:45 +0000 (0:00:00.550)       0:00:49.294 ***** 
2020-02-20 13:27:45,946 p=1 u=root |  Running systemd
2020-02-20 13:27:46,438 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/system/systemd.py
2020-02-20 13:27:46,798 p=1 u=root |  changed: [server] => {
    "changed": true,
    "enabled": true,
    "invocation": {
        "module_args": {
            "daemon_reload": false,
            "enabled": true,
            "force": null,
            "masked": null,
            "name": "npg",
            "no_block": false,
            "scope": null,
            "state": "started",
            "user": null
        }
    },
    "name": "npg",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "docker.service systemd-journald.socket system.slice -.mount basic.target",
        "AllowIsolate": "no",
        "AmbientCapabilities": "0",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "18446744073709551615",
        "CPUAccounting": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "18446744073709551615",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "18446744073709551615",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "Delegate": "no",
        "Description": "npg",
        "DevicePolicy": "auto",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml up ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartPre": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml down ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStop": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml stop ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/etc/systemd/system/npg.service",
        "GuessMainPID": "yes",
        "IOScheduling": "0",
        "Id": "npg.service",
        "IgnoreOnIsolate": "no",
        "IgnoreOnSnapshot": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "0",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "18446744073709551615",
        "LimitCORE": "18446744073709551615",
        "LimitCPU": "18446744073709551615",
        "LimitDATA": "18446744073709551615",
        "LimitFSIZE": "18446744073709551615",
        "LimitLOCKS": "18446744073709551615",
        "LimitMEMLOCK": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitNICE": "0",
        "LimitNOFILE": "4096",
        "LimitNPROC": "15076",
        "LimitRSS": "18446744073709551615",
        "LimitRTPRIO": "0",
        "LimitRTTIME": "18446744073709551615",
        "LimitSIGPENDING": "15076",
        "LimitSTACK": "18446744073709551615",
        "LoadState": "loaded",
        "MainPID": "0",
        "MemoryAccounting": "no",
        "MemoryCurrent": "18446744073709551615",
        "MemoryLimit": "18446744073709551615",
        "MountFlags": "0",
        "Names": "npg.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "PrivateDevices": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "ProtectHome": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "Requires": "docker.service basic.target -.mount",
        "RequiresMountsFor": "/usr/local/npg",
        "Restart": "always",
        "RestartUSec": "100ms",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitInterval": "10000000",
        "StartupBlockIOWeight": "18446744073709551615",
        "StartupCPUShares": "18446744073709551615",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "no",
        "TasksCurrent": "18446744073709551615",
        "TasksMax": "18446744073709551615",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "idle",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "Wants": "system.slice",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0",
        "WorkingDirectory": "/usr/local/npg"
    }
}
2020-02-20 13:27:46,833 p=1 u=root |  TASK [npg_master : restart npg service] **********************************************************************************************************************
2020-02-20 13:27:46,834 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:111
2020-02-20 13:27:46,834 p=1 u=root |  Thursday 20 February 2020  13:27:46 +0000 (0:00:01.046)       0:00:50.341 ***** 
2020-02-20 13:27:47,051 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/system/systemd.py
2020-02-20 13:27:47,367 p=1 u=root |  changed: [server] => (item=npg) => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "npg",
            "no_block": false,
            "scope": null,
            "state": "restarted",
            "user": null
        }
    },
    "item": "npg",
    "name": "npg",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Thu 2020-02-20 08:27:46 EST",
        "ActiveEnterTimestampMonotonic": "1464982399",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "docker.service system.slice basic.target -.mount systemd-journald.socket",
        "AllowIsolate": "no",
        "AmbientCapabilities": "0",
        "AssertResult": "yes",
        "AssertTimestamp": "Thu 2020-02-20 08:27:46 EST",
        "AssertTimestampMonotonic": "1464981480",
        "Before": "shutdown.target multi-user.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "18446744073709551615",
        "CPUAccounting": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "18446744073709551615",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "18446744073709551615",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Thu 2020-02-20 08:27:46 EST",
        "ConditionTimestampMonotonic": "1464981479",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/npg.service",
        "ControlPID": "4639",
        "DefaultDependencies": "yes",
        "Delegate": "no",
        "Description": "npg",
        "DevicePolicy": "auto",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml up ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartPre": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml down ; ignore_errors=no ; start_time=[Thu 2020-02-20 08:27:46 EST] ; stop_time=[n/a] ; pid=4639 ; code=(null) ; status=0/0 }",
        "ExecStop": "{ path=/usr/bin/docker-compose ; argv[]=/usr/bin/docker-compose -f /usr/local/npg/docker-compose.yml stop ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/etc/systemd/system/npg.service",
        "GuessMainPID": "yes",
        "IOScheduling": "0",
        "Id": "npg.service",
        "IgnoreOnIsolate": "no",
        "IgnoreOnSnapshot": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Thu 2020-02-20 08:27:46 EST",
        "InactiveExitTimestampMonotonic": "1464982399",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "0",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "18446744073709551615",
        "LimitCORE": "18446744073709551615",
        "LimitCPU": "18446744073709551615",
        "LimitDATA": "18446744073709551615",
        "LimitFSIZE": "18446744073709551615",
        "LimitLOCKS": "18446744073709551615",
        "LimitMEMLOCK": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitNICE": "0",
        "LimitNOFILE": "4096",
        "LimitNPROC": "15076",
        "LimitRSS": "18446744073709551615",
        "LimitRTPRIO": "0",
        "LimitRTTIME": "18446744073709551615",
        "LimitSIGPENDING": "15076",
        "LimitSTACK": "18446744073709551615",
        "LoadState": "loaded",
        "MainPID": "0",
        "MemoryAccounting": "no",
        "MemoryCurrent": "86093824",
        "MemoryLimit": "18446744073709551615",
        "MountFlags": "0",
        "Names": "npg.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "PrivateDevices": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "ProtectHome": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "Requires": "basic.target docker.service -.mount",
        "RequiresMountsFor": "/usr/local/npg",
        "Restart": "always",
        "RestartUSec": "100ms",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitInterval": "10000000",
        "StartupBlockIOWeight": "18446744073709551615",
        "StartupCPUShares": "18446744073709551615",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "start-pre",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "no",
        "TasksCurrent": "18446744073709551615",
        "TasksMax": "18446744073709551615",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "idle",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "enabled",
        "WantedBy": "multi-user.target",
        "Wants": "system.slice",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0",
        "WorkingDirectory": "/usr/local/npg"
    }
}
2020-02-20 13:27:47,403 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *************************************************************************************************************
2020-02-20 13:27:47,403 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:121
2020-02-20 13:27:47,403 p=1 u=root |  Thursday 20 February 2020  13:27:47 +0000 (0:00:00.569)       0:00:50.910 ***** 
2020-02-20 13:27:47,631 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:27:47,826 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "mkdir -p /usr/local/npg_stack && mkdir -p /opt/local/netdata",
    "delta": "0:00:00.005102",
    "end": "2020-02-20 08:27:47.790170",
    "invocation": {
        "module_args": {
            "_raw_params": "mkdir -p /usr/local/npg_stack && mkdir -p /opt/local/netdata",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:27:47.785068",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "",
    "stdout_lines": []
}
2020-02-20 13:27:47,862 p=1 u=root |  TASK [npg_master : copy external npg stack items] ************************************************************************************************************
2020-02-20 13:27:47,862 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:125
2020-02-20 13:27:47,862 p=1 u=root |  Thursday 20 February 2020  13:27:47 +0000 (0:00:00.458)       0:00:51.369 ***** 
2020-02-20 13:27:48,091 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:48,309 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:48,517 p=1 u=root |  changed: [server] => (item=files/nodeexporter.service) => {
    "changed": true,
    "checksum": "b6fe98433d0e2f8883ca5749f4da4810fa037a3f",
    "dest": "/usr/local/npg_stack/nodeexporter.service",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "nodeexporter.service",
            "attributes": null,
            "backup": false,
            "checksum": "b6fe98433d0e2f8883ca5749f4da4810fa037a3f",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/nodeexporter.service",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205268.0405881-109432143818974/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/nodeexporter.service",
    "md5sum": "32b50c63d85a42b16c53dc99ae3f6a85",
    "mode": "0777",
    "owner": "root",
    "size": 505,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205268.0405881-109432143818974/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:48,580 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:48,799 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:48,977 p=1 u=root |  changed: [server] => (item=files/docker-compose.yml.nodeexporter) => {
    "changed": true,
    "checksum": "ed4c5a5f8e560ae597b136fc3de998d2a475feaf",
    "dest": "/usr/local/npg_stack/docker-compose.yml.nodeexporter",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker-compose.yml.nodeexporter",
            "attributes": null,
            "backup": false,
            "checksum": "ed4c5a5f8e560ae597b136fc3de998d2a475feaf",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/docker-compose.yml.nodeexporter",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205268.5123663-40505041552876/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/docker-compose.yml.nodeexporter",
    "md5sum": "23bb0f28b08a52e62e1f89e7bb7b3319",
    "mode": "0777",
    "owner": "root",
    "size": 600,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205268.5123663-40505041552876/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:49,028 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:50,137 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:50,618 p=1 u=root |  changed: [server] => (item=files/npg_stack_images.tar.xz) => {
    "changed": true,
    "checksum": "0b5c76fa39e11ea65004f0748cbd92bafcbdec67",
    "dest": "/usr/local/npg_stack/npg_stack_images.tar.xz",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "npg_stack_images.tar.xz",
            "attributes": null,
            "backup": false,
            "checksum": "0b5c76fa39e11ea65004f0748cbd92bafcbdec67",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/npg_stack_images.tar.xz",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205268.9864466-2887050646877/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/npg_stack_images.tar.xz",
    "md5sum": "82f4b14c21f02ce96db840b8a4f4fd9d",
    "mode": "0777",
    "owner": "root",
    "size": 80804084,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205268.9864466-2887050646877/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:50,668 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:51,083 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:51,325 p=1 u=root |  changed: [server] => (item=files/docker-compose) => {
    "changed": true,
    "checksum": "fe201f0e38d54ea82d93e44ca45a5b5432b14bfc",
    "dest": "/usr/local/npg_stack/docker-compose",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker-compose",
            "attributes": null,
            "backup": false,
            "checksum": "fe201f0e38d54ea82d93e44ca45a5b5432b14bfc",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/docker-compose",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205270.6268115-280954376611984/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/docker-compose",
    "md5sum": "8def6e62e57d24a58d99437407e9f9e6",
    "mode": "0777",
    "owner": "root",
    "size": 17031320,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205270.6268115-280954376611984/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:51,376 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:52,258 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:52,708 p=1 u=root |  changed: [server] => (item=files/docker-19.03.5.tgz) => {
    "changed": true,
    "checksum": "05ab09d78e77db7fd4d252cb7bf986f5b9035e09",
    "dest": "/usr/local/npg_stack/docker-19.03.5.tgz",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker-19.03.5.tgz",
            "attributes": null,
            "backup": false,
            "checksum": "05ab09d78e77db7fd4d252cb7bf986f5b9035e09",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/docker-19.03.5.tgz",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205271.334694-6630636091752/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/docker-19.03.5.tgz",
    "md5sum": "1bb7a85fec2fea625bd0e46c04563523",
    "mode": "0777",
    "owner": "root",
    "size": 63252595,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205271.334694-6630636091752/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:55,026 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:55,222 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:55,413 p=1 u=root |  changed: [server] => (item=files/docker.service) => {
    "changed": true,
    "checksum": "af82ed00d36a172fea4b599d6853176ff3db602c",
    "dest": "/usr/local/npg_stack/docker.service",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker.service",
            "attributes": null,
            "backup": false,
            "checksum": "af82ed00d36a172fea4b599d6853176ff3db602c",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/docker.service",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205272.7175274-172953876542059/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/docker.service",
    "md5sum": "208575751dca53f3ae9410a7b10c88da",
    "mode": "0777",
    "owner": "root",
    "size": 1140,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205272.7175274-172953876542059/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:55,483 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:55,678 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:55,860 p=1 u=root |  changed: [server] => (item=files/netdata.service) => {
    "changed": true,
    "checksum": "7894253ea1b777e91cd133b92845d2e8f0ccd6d9",
    "dest": "/usr/local/npg_stack/netdata.service",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "netdata.service",
            "attributes": null,
            "backup": false,
            "checksum": "7894253ea1b777e91cd133b92845d2e8f0ccd6d9",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/netdata.service",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 511,
            "owner": "root",
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205275.4248137-17515746863965/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "item": "files/netdata.service",
    "md5sum": "03d0563014727a766e6612388e30ebe8",
    "mode": "0777",
    "owner": "root",
    "size": 481,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205275.4248137-17515746863965/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:55,897 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] *******************************************************************************************
2020-02-20 13:27:55,897 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:142
2020-02-20 13:27:55,897 p=1 u=root |  Thursday 20 February 2020  13:27:55 +0000 (0:00:08.034)       0:00:59.404 ***** 
2020-02-20 13:27:56,290 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:56,471 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:56,643 p=1 u=root |  changed: [server] => {
    "changed": true,
    "checksum": "7707fd2e807046e12850a261161d8af7d689a4b1",
    "dest": "/opt/local/netdata/install_monitor.sh",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "install_monitor.sh.j2",
            "attributes": null,
            "backup": false,
            "checksum": "7707fd2e807046e12850a261161d8af7d689a4b1",
            "content": null,
            "delimiter": null,
            "dest": "/opt/local/netdata/install_monitor.sh",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205276.0345893-101591802380807/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "md5sum": "59509e0c484aa0e408f24233e9a1ab8f",
    "mode": "0644",
    "owner": "root",
    "size": 2106,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205276.0345893-101591802380807/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:56,677 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] ******************************************************************************************
2020-02-20 13:27:56,677 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:148
2020-02-20 13:27:56,677 p=1 u=root |  Thursday 20 February 2020  13:27:56 +0000 (0:00:00.779)       0:01:00.184 ***** 
2020-02-20 13:27:56,887 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:57,074 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:57,239 p=1 u=root |  changed: [server] => {
    "changed": true,
    "checksum": "8b24b2a305ce728b8e70022687394c2c6f46cec7",
    "dest": "/opt/local/netdata/docker-compose.yml.client",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "docker-compose.yml.client.j2",
            "attributes": null,
            "backup": false,
            "checksum": "8b24b2a305ce728b8e70022687394c2c6f46cec7",
            "content": null,
            "delimiter": null,
            "dest": "/opt/local/netdata/docker-compose.yml.client",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205276.8091912-226413408008830/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "md5sum": "7a8509977fca0388ca532790387939e3",
    "mode": "0644",
    "owner": "root",
    "size": 750,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205276.8091912-226413408008830/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:57,274 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **************************************************************************************************
2020-02-20 13:27:57,274 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:154
2020-02-20 13:27:57,275 p=1 u=root |  Thursday 20 February 2020  13:27:57 +0000 (0:00:00.597)       0:01:00.782 ***** 
2020-02-20 13:27:57,541 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py
2020-02-20 13:27:57,744 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/copy.py
2020-02-20 13:27:57,924 p=1 u=root |  changed: [server] => {
    "changed": true,
    "checksum": "9a8553fe99a0108e36a466886f71b515dc32a742",
    "dest": "/usr/local/npg_stack/health_alarm_notify.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "health_alarm_notify.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "9a8553fe99a0108e36a466886f71b515dc32a742",
            "content": null,
            "delimiter": null,
            "dest": "/usr/local/npg_stack/health_alarm_notify.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1582205277.4323058-154652334614447/source",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "md5sum": "8f10ce1752238d49c17be24b8ad33454",
    "mode": "0644",
    "owner": "root",
    "size": 40725,
    "src": "/root/.ansible/tmp/ansible-tmp-1582205277.4323058-154652334614447/source",
    "state": "file",
    "uid": 0
}
2020-02-20 13:27:57,958 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *****************************************************************************************************************
2020-02-20 13:27:57,958 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:160
2020-02-20 13:27:57,958 p=1 u=root |  Thursday 20 February 2020  13:27:57 +0000 (0:00:00.683)       0:01:01.465 ***** 
2020-02-20 13:27:58,132 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:28:04,599 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "cd /usr/local && tar czvf npg_stack.tar.gz npg_stack && mv npg_stack.tar.gz /usr/local/npg/static",
    "delta": "0:00:06.292122",
    "end": "2020-02-20 08:28:04.560966",
    "invocation": {
        "module_args": {
            "_raw_params": "cd /usr/local && tar czvf npg_stack.tar.gz npg_stack && mv npg_stack.tar.gz /usr/local/npg/static",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:27:58.268844",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "npg_stack/\nnpg_stack/nodeexporter.service\nnpg_stack/docker-compose.yml.nodeexporter\nnpg_stack/npg_stack_images.tar.xz\nnpg_stack/docker-compose\nnpg_stack/docker-19.03.5.tgz\nnpg_stack/docker.service\nnpg_stack/netdata.service\nnpg_stack/health_alarm_notify.conf",
    "stdout_lines": [
        "npg_stack/",
        "npg_stack/nodeexporter.service",
        "npg_stack/docker-compose.yml.nodeexporter",
        "npg_stack/npg_stack_images.tar.xz",
        "npg_stack/docker-compose",
        "npg_stack/docker-19.03.5.tgz",
        "npg_stack/docker.service",
        "npg_stack/netdata.service",
        "npg_stack/health_alarm_notify.conf"
    ]
}
2020-02-20 13:28:04,636 p=1 u=root |  TASK [npg_master : Generate npg client configurations] *******************************************************************************************************
2020-02-20 13:28:04,636 p=1 u=root |  task path: /app/roles/npg_master/tasks/main.yml:163
2020-02-20 13:28:04,636 p=1 u=root |  Thursday 20 February 2020  13:28:04 +0000 (0:00:06.678)       0:01:08.143 ***** 
2020-02-20 13:28:04,804 p=1 u=root |  Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py
2020-02-20 13:28:05,022 p=1 u=root |  changed: [server] => {
    "changed": true,
    "cmd": "cd /usr/local/npg/static && mkdir -p npg_stack_client && cd npg_stack_client && cp /usr/local/npg_stack/netdata.service . && cp /usr/local/npg/dashboard.js . && cp /usr/local/npg_stack/health_alarm_notify.conf . && cp /opt/local/netdata/docker-compose.yml.client . && cp /usr/local/npg_stack/docker-compose.yml.nodeexporter . && cp /usr/local/npg_stack/nodeexporter.service . && cd .. && chmod 777 -R npg_stack_client && cp /opt/local/netdata/install_monitor.sh . && chmod 777 install_monitor.sh && cp /usr/local/npg/uninstall_monitor.sh .",
    "delta": "0:00:00.041996",
    "end": "2020-02-20 08:28:04.987092",
    "invocation": {
        "module_args": {
            "_raw_params": "cd /usr/local/npg/static && mkdir -p npg_stack_client && cd npg_stack_client && cp /usr/local/npg_stack/netdata.service . && cp /usr/local/npg/dashboard.js . && cp /usr/local/npg_stack/health_alarm_notify.conf . && cp /opt/local/netdata/docker-compose.yml.client . && cp /usr/local/npg_stack/docker-compose.yml.nodeexporter . && cp /usr/local/npg_stack/nodeexporter.service . && cd .. && chmod 777 -R npg_stack_client && cp /opt/local/netdata/install_monitor.sh . && chmod 777 install_monitor.sh && cp /usr/local/npg/uninstall_monitor.sh .",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": false
        }
    },
    "rc": 0,
    "start": "2020-02-20 08:28:04.945096",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "",
    "stdout_lines": []
}
2020-02-20 13:28:05,025 p=1 u=root |  META: ran handlers
2020-02-20 13:28:05,026 p=1 u=root |  META: ran handlers
2020-02-20 13:28:05,027 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-20 13:28:05,027 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-20 13:28:05,027 p=1 u=root |  server                     : ok=23   changed=20   unreachable=0    failed=0   
2020-02-20 13:28:05,027 p=1 u=root |  Thursday 20 February 2020  13:28:05 +0000 (0:00:00.391)       0:01:08.535 ***** 
2020-02-20 13:28:05,028 p=1 u=root |  =============================================================================== 
2020-02-20 13:28:05,028 p=1 u=root |  npg_master : Load npg docker images ------------------------------------------------------------------------------------------------------------------ 28.99s
/app/roles/npg_master/tasks/main.yml:12 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,028 p=1 u=root |  npg_master : copy external npg stack items ------------------------------------------------------------------------------------------------------------ 8.03s
/app/roles/npg_master/tasks/main.yml:125 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,028 p=1 u=root |  npg_master : Generate npg_stack items ----------------------------------------------------------------------------------------------------------------- 6.68s
/app/roles/npg_master/tasks/main.yml:160 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,028 p=1 u=root |  npg_master : copy prometheus.yml to remote ------------------------------------------------------------------------------------------------------------ 3.25s
/app/roles/npg_master/tasks/main.yml:44 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,028 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master -------------------------------------------------------------------------------------------- 3.18s
/app/roles/npg_master/tasks/main.yml:25 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : upload npg images to npg-master ---------------------------------------------------------------------------------------------------------- 2.94s
/app/roles/npg_master/tasks/main.yml:2 ----------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 2.58s
/app/npgmaster.yml:16 ---------------------------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : copy html to remote ---------------------------------------------------------------------------------------------------------------------- 2.11s
/app/roles/npg_master/tasks/main.yml:79 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : copy dashboard.js to all node ------------------------------------------------------------------------------------------------------------ 1.86s
/app/roles/npg_master/tasks/main.yml:33 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : Start and enable npg service ------------------------------------------------------------------------------------------------------------- 1.05s
/app/roles/npg_master/tasks/main.yml:105 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : upload npg systemd files to npg-master --------------------------------------------------------------------------------------------------- 0.80s
/app/roles/npg_master/tasks/main.yml:15 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,029 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack ------------------------------------------------------------------------------------------- 0.78s
/app/roles/npg_master/tasks/main.yml:142 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master --------------------------------------------------------------------------------------------------- 0.71s
/app/roles/npg_master/tasks/main.yml:71 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote -------------------------------------------------------------------------------------------------- 0.68s
/app/roles/npg_master/tasks/main.yml:154 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : upload alert.rules to npg ---------------------------------------------------------------------------------------------------------------- 0.63s
/app/roles/npg_master/tasks/main.yml:58 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : copy docker-compose files to external npg stack ------------------------------------------------------------------------------------------ 0.60s
/app/roles/npg_master/tasks/main.yml:148 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : create prometheus storage data dir ------------------------------------------------------------------------------------------------------- 0.58s
/app/roles/npg_master/tasks/main.yml:90 ---------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,030 p=1 u=root |  npg_master : restart npg service ---------------------------------------------------------------------------------------------------------------------- 0.57s
/app/roles/npg_master/tasks/main.yml:111 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,031 p=1 u=root |  npg_master : Change npg directory priviledge ---------------------------------------------------------------------------------------------------------- 0.55s
/app/roles/npg_master/tasks/main.yml:102 --------------------------------------------------------------------------------------------------------------------
2020-02-20 13:28:05,031 p=1 u=root |  npg_master : make directory for npg_stack ------------------------------------------------------------------------------------------------------------- 0.46s
/app/roles/npg_master/tasks/main.yml:121 --------------------------------------------------------------------------------------------------------------------
2020-02-21 03:05:19,775 p=1 u=root |  PLAY [localhost] *********************************************************************************************************************************************
2020-02-21 03:05:19,790 p=1 u=root |  TASK [Check ansible version >=2.7.8] *************************************************************************************************************************
2020-02-21 03:05:19,790 p=1 u=root |  Friday 21 February 2020  03:05:19 +0000 (0:00:00.214)       0:00:00.214 ******* 
2020-02-21 03:05:19,850 p=1 u=root |  ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
2020-02-21 03:05:19,862 p=1 u=root |  PLAY [npg-master] ********************************************************************************************************************************************
2020-02-21 03:05:19,877 p=1 u=root |  TASK [Gathering Facts] ***************************************************************************************************************************************
2020-02-21 03:05:19,877 p=1 u=root |  Friday 21 February 2020  03:05:19 +0000 (0:00:00.086)       0:00:00.301 ******* 
2020-02-21 03:05:21,083 p=1 u=root |  ok: [server]
2020-02-21 03:05:21,121 p=1 u=root |  TASK [npg_master : upload npg images to npg-master] **********************************************************************************************************
2020-02-21 03:05:21,121 p=1 u=root |  Friday 21 February 2020  03:05:21 +0000 (0:00:01.243)       0:00:01.545 ******* 
2020-02-21 03:05:31,788 p=1 u=root |  changed: [server] => (item=files/npg_master.tar.xz)
2020-02-21 03:05:31,826 p=1 u=root |  TASK [npg_master : Load npg docker images] *******************************************************************************************************************
2020-02-21 03:05:31,826 p=1 u=root |  Friday 21 February 2020  03:05:31 +0000 (0:00:10.704)       0:00:12.250 ******* 
2020-02-21 03:08:48,272 p=1 u=root |  changed: [server]
2020-02-21 03:08:48,372 p=1 u=root |  TASK [npg_master : upload npg systemd files to npg-master] ***************************************************************************************************
2020-02-21 03:08:48,373 p=1 u=root |  Friday 21 February 2020  03:08:48 +0000 (0:03:16.546)       0:03:28.797 ******* 
2020-02-21 03:08:50,289 p=1 u=root |  ok: [server] => (item=files/npg.service)
2020-02-21 03:08:50,420 p=1 u=root |  TASK [npg_master : upload npg docker-compose files to npg-master] ********************************************************************************************
2020-02-21 03:08:50,420 p=1 u=root |  Friday 21 February 2020  03:08:50 +0000 (0:00:02.047)       0:03:30.844 ******* 
2020-02-21 03:08:54,848 p=1 u=root |  changed: [server]
2020-02-21 03:08:54,884 p=1 u=root |  TASK [npg_master : copy dashboard.js to all node] ************************************************************************************************************
2020-02-21 03:08:54,885 p=1 u=root |  Friday 21 February 2020  03:08:54 +0000 (0:00:04.464)       0:03:35.309 ******* 
2020-02-21 03:08:56,337 p=1 u=root |  ok: [server] => (item=files/dashboard.js)
2020-02-21 03:08:56,912 p=1 u=root |  ok: [server] => (item=files/uninstall_monitor.sh)
2020-02-21 03:08:57,047 p=1 u=root |  TASK [npg_master : copy prometheus.yml to remote] ************************************************************************************************************
2020-02-21 03:08:57,047 p=1 u=root |  Friday 21 February 2020  03:08:57 +0000 (0:00:02.162)       0:03:37.472 ******* 
2020-02-21 03:08:58,206 p=1 u=root |  changed: [server] => (item={'src': 'prometheus.yml.j2', 'dest': '/usr/local/npg/prometheus/prometheus.yml'})
2020-02-21 03:08:58,659 p=1 u=root |  ok: [server] => (item={'src': 'loki-stack-datasource.yml.j2', 'dest': '/usr/local/npg/grafana/provisioning/datasources/loki-stack-datasource.yml'})
2020-02-21 03:08:59,126 p=1 u=root |  changed: [server] => (item={'src': 'docker-compose.yml.j2', 'dest': '/usr/local/npg/docker-compose.yml'})
2020-02-21 03:08:59,603 p=1 u=root |  changed: [server] => (item={'src': 'config.yml.j2', 'dest': '/usr/local/npg/alertmanager/config.yml'})
2020-02-21 03:09:00,134 p=1 u=root |  changed: [server] => (item={'src': 'grafana.ini.j2', 'dest': '/usr/local/npg/grafana/grafana.ini'})
2020-02-21 03:09:00,595 p=1 u=root |  ok: [server] => (item={'src': 'health_alarm_notify.conf.j2', 'dest': '/usr/local/npg/health_alarm_notify.conf'})
2020-02-21 03:09:00,630 p=1 u=root |  TASK [npg_master : upload alert.rules to npg] ****************************************************************************************************************
2020-02-21 03:09:00,630 p=1 u=root |  Friday 21 February 2020  03:09:00 +0000 (0:00:03.583)       0:03:41.055 ******* 
2020-02-21 03:09:01,256 p=1 u=root |  changed: [server] => (item=files/alert.rules)
2020-02-21 03:09:01,292 p=1 u=root |  TASK [npg_master : create dir /usr/local/npg/static/ajax] ****************************************************************************************************
2020-02-21 03:09:01,292 p=1 u=root |  Friday 21 February 2020  03:09:01 +0000 (0:00:00.661)       0:03:41.716 ******* 
2020-02-21 03:09:01,742 p=1 u=root |  changed: [server]
2020-02-21 03:09:01,779 p=1 u=root |  TASK [npg_master : upload ajax.tar.gz files to npg-master] ***************************************************************************************************
2020-02-21 03:09:01,779 p=1 u=root |  Friday 21 February 2020  03:09:01 +0000 (0:00:00.486)       0:03:42.203 ******* 
2020-02-21 03:09:02,575 p=1 u=root |  changed: [server]
2020-02-21 03:09:02,612 p=1 u=root |  TASK [npg_master : copy html to remote] **********************************************************************************************************************
2020-02-21 03:09:02,613 p=1 u=root |  Friday 21 February 2020  03:09:02 +0000 (0:00:00.833)       0:03:43.037 ******* 
2020-02-21 03:09:03,577 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content0.html.j2', 'dest': '/usr/local/npg/static/ajax/content0.html'})
2020-02-21 03:09:04,104 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content1.html.j2', 'dest': '/usr/local/npg/static/ajax/content1.html'})
2020-02-21 03:09:04,660 p=1 u=root |  changed: [server] => (item={'src': 'ajax/content4.html.j2', 'dest': '/usr/local/npg/static/ajax/content4.html'})
2020-02-21 03:09:04,696 p=1 u=root |  TASK [npg_master : create prometheus storage data dir] *******************************************************************************************************
2020-02-21 03:09:04,697 p=1 u=root |  Friday 21 February 2020  03:09:04 +0000 (0:00:02.083)       0:03:45.121 ******* 
2020-02-21 03:09:05,100 p=1 u=root |  ok: [server]
2020-02-21 03:09:05,134 p=1 u=root |  TASK [npg_master : create loki storage data dir] *************************************************************************************************************
2020-02-21 03:09:05,134 p=1 u=root |  Friday 21 February 2020  03:09:05 +0000 (0:00:00.437)       0:03:45.558 ******* 
2020-02-21 03:09:05,484 p=1 u=root |  ok: [server]
2020-02-21 03:09:05,518 p=1 u=root |  TASK [npg_master : Change npg directory priviledge] **********************************************************************************************************
2020-02-21 03:09:05,518 p=1 u=root |  Friday 21 February 2020  03:09:05 +0000 (0:00:00.384)       0:03:45.942 ******* 
2020-02-21 03:09:05,889 p=1 u=root |  changed: [server]
2020-02-21 03:09:05,924 p=1 u=root |  TASK [npg_master : Start and enable npg service] *************************************************************************************************************
2020-02-21 03:09:05,924 p=1 u=root |  Friday 21 February 2020  03:09:05 +0000 (0:00:00.405)       0:03:46.348 ******* 
2020-02-21 03:09:07,231 p=1 u=root |  changed: [server]
2020-02-21 03:09:07,268 p=1 u=root |  TASK [npg_master : restart npg service] **********************************************************************************************************************
2020-02-21 03:09:07,268 p=1 u=root |  Friday 21 February 2020  03:09:07 +0000 (0:00:01.343)       0:03:47.692 ******* 
2020-02-21 03:09:07,739 p=1 u=root |  changed: [server] => (item=npg)
2020-02-21 03:09:07,779 p=1 u=root |  TASK [npg_master : make directory for npg_stack] *************************************************************************************************************
2020-02-21 03:09:07,779 p=1 u=root |  Friday 21 February 2020  03:09:07 +0000 (0:00:00.511)       0:03:48.203 ******* 
2020-02-21 03:09:08,222 p=1 u=root |  changed: [server]
2020-02-21 03:09:08,257 p=1 u=root |  TASK [npg_master : copy external npg stack items] ************************************************************************************************************
2020-02-21 03:09:08,257 p=1 u=root |  Friday 21 February 2020  03:09:08 +0000 (0:00:00.477)       0:03:48.681 ******* 
2020-02-21 03:09:08,948 p=1 u=root |  ok: [server] => (item=files/nodeexporter.service)
2020-02-21 03:09:09,574 p=1 u=root |  ok: [server] => (item=files/docker-compose.yml.nodeexporter)
2020-02-21 03:09:12,899 p=1 u=root |  ok: [server] => (item=files/npg_stack_images.tar.xz)
2020-02-21 03:09:14,390 p=1 u=root |  ok: [server] => (item=files/docker-compose)
2020-02-21 03:09:18,921 p=1 u=root |  ok: [server] => (item=files/docker-19.03.5.tgz)
2020-02-21 03:09:19,652 p=1 u=root |  ok: [server] => (item=files/docker.service)
2020-02-21 03:09:20,652 p=1 u=root |  ok: [server] => (item=files/netdata.service)
2020-02-21 03:09:20,690 p=1 u=root |  TASK [npg_master : copy install_monitor.sh for external npg stack] *******************************************************************************************
2020-02-21 03:09:20,690 p=1 u=root |  Friday 21 February 2020  03:09:20 +0000 (0:00:12.432)       0:04:01.114 ******* 
2020-02-21 03:09:21,680 p=1 u=root |  ok: [server]
2020-02-21 03:09:21,714 p=1 u=root |  TASK [npg_master : copy docker-compose files to external npg stack] ******************************************************************************************
2020-02-21 03:09:21,715 p=1 u=root |  Friday 21 February 2020  03:09:21 +0000 (0:00:01.024)       0:04:02.139 ******* 
2020-02-21 03:09:22,865 p=1 u=root |  ok: [server]
2020-02-21 03:09:22,906 p=1 u=root |  TASK [npg_master : copy health_alarm_notify.conf to remote] **************************************************************************************************
2020-02-21 03:09:22,906 p=1 u=root |  Friday 21 February 2020  03:09:22 +0000 (0:00:01.191)       0:04:03.330 ******* 
2020-02-21 03:09:24,484 p=1 u=root |  ok: [server]
2020-02-21 03:09:24,520 p=1 u=root |  TASK [npg_master : Generate npg_stack items] *****************************************************************************************************************
2020-02-21 03:09:24,520 p=1 u=root |  Friday 21 February 2020  03:09:24 +0000 (0:00:01.614)       0:04:04.944 ******* 
2020-02-21 03:09:31,508 p=1 u=root |  changed: [server]
2020-02-21 03:09:31,543 p=1 u=root |  TASK [npg_master : Generate npg client configurations] *******************************************************************************************************
2020-02-21 03:09:31,543 p=1 u=root |  Friday 21 February 2020  03:09:31 +0000 (0:00:07.022)       0:04:11.967 ******* 
2020-02-21 03:09:32,114 p=1 u=root |  changed: [server]
2020-02-21 03:09:32,117 p=1 u=root |  PLAY RECAP ***************************************************************************************************************************************************
2020-02-21 03:09:32,117 p=1 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=0   
2020-02-21 03:09:32,117 p=1 u=root |  server                     : ok=23   changed=14   unreachable=0    failed=0   
2020-02-21 03:09:32,118 p=1 u=root |  Friday 21 February 2020  03:09:32 +0000 (0:00:00.574)       0:04:12.542 ******* 
2020-02-21 03:09:32,118 p=1 u=root |  =============================================================================== 
2020-02-21 03:09:32,118 p=1 u=root |  npg_master : Load npg docker images ----------------------------------------------------------------------------------------------------------------- 196.55s
2020-02-21 03:09:32,118 p=1 u=root |  npg_master : copy external npg stack items ----------------------------------------------------------------------------------------------------------- 12.43s
2020-02-21 03:09:32,118 p=1 u=root |  npg_master : upload npg images to npg-master --------------------------------------------------------------------------------------------------------- 10.71s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : Generate npg_stack items ----------------------------------------------------------------------------------------------------------------- 7.02s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : upload npg docker-compose files to npg-master -------------------------------------------------------------------------------------------- 4.46s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : copy prometheus.yml to remote ------------------------------------------------------------------------------------------------------------ 3.58s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : copy dashboard.js to all node ------------------------------------------------------------------------------------------------------------ 2.16s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : copy html to remote ---------------------------------------------------------------------------------------------------------------------- 2.08s
2020-02-21 03:09:32,119 p=1 u=root |  npg_master : upload npg systemd files to npg-master --------------------------------------------------------------------------------------------------- 2.05s
2020-02-21 03:09:32,120 p=1 u=root |  npg_master : copy health_alarm_notify.conf to remote -------------------------------------------------------------------------------------------------- 1.61s
2020-02-21 03:09:32,120 p=1 u=root |  npg_master : Start and enable npg service ------------------------------------------------------------------------------------------------------------- 1.34s
2020-02-21 03:09:32,120 p=1 u=root |  Gathering Facts --------------------------------------------------------------------------------------------------------------------------------------- 1.24s
2020-02-21 03:09:32,120 p=1 u=root |  npg_master : copy docker-compose files to external npg stack ------------------------------------------------------------------------------------------ 1.19s
2020-02-21 03:09:32,120 p=1 u=root |  npg_master : copy install_monitor.sh for external npg stack ------------------------------------------------------------------------------------------- 1.02s
2020-02-21 03:09:32,120 p=1 u=root |  npg_master : upload ajax.tar.gz files to npg-master --------------------------------------------------------------------------------------------------- 0.83s
2020-02-21 03:09:32,121 p=1 u=root |  npg_master : upload alert.rules to npg ---------------------------------------------------------------------------------------------------------------- 0.66s
2020-02-21 03:09:32,121 p=1 u=root |  npg_master : Generate npg client configurations ------------------------------------------------------------------------------------------------------- 0.57s
2020-02-21 03:09:32,121 p=1 u=root |  npg_master : restart npg service ---------------------------------------------------------------------------------------------------------------------- 0.51s
2020-02-21 03:09:32,121 p=1 u=root |  npg_master : create dir /usr/local/npg/static/ajax ---------------------------------------------------------------------------------------------------- 0.49s
2020-02-21 03:09:32,121 p=1 u=root |  npg_master : make directory for npg_stack ------------------------------------------------------------------------------------------------------------- 0.48s
